window.ssmCountry='IN';window.ssmRegionCode='TS';window.serverTime='2025-02-18T22:36:06.587Z';/* ss+ 2025-02-14 08:00:15*/ window.ssm_config = {"scriptBuildDate":"2025-02-14 08:00:14","targetingKey":"48_freepik","run_condition":"navigator.userAgent.indexOf('ghost-inspector') === -1","refresh_interval":30,"targeting":{},"amazon_pubid":"d2c1d4de-7c69-49c2-8aec-7ee14abe5ed5","prebid_timeout":1000,"has_id5Id":true,"max_refresh_session":999,"eval_script":"window.ssmCustomTargetings = window.ssmCustomTargetings || {};if (ssmSmartTag.isPrivate){ssmCustomTargetings.ssmasIsPrivate=1}else{ssmCustomTargetings.ssmasIsPrivate=0}\r\n\r\n(function(){\r\n    window.addEventListener('message', function(event) {\r\n        \/\/ Procesa los datos recibidos\r\n        var datos = event.data;\r\n        if(!event.data) {\r\n            return\r\n        }\r\n        if(datos.event_name && datos.event_name === \"post_download_ad\" && datos.location === 'downloadbox') {\r\n            datos.category = datos.category || (window.ssmCustomTargetings && window.ssmCustomTargetings.type)\r\n            ssmSmartTag.log('push:', datos);\r\n            let checkInterval = setInterval(() => {\r\n                if (typeof dataLayer !== 'undefined') {\r\n                    \/\/dataLayer.push(datos);\r\n                    clearInterval(checkInterval);\r\n                }\r\n            }, 100);\r\n        }\r\n    }, false);\r\n})();","has_schain":true,"schain_config":{"name":"Freepik Company, S. L.","domain":"freepik.com","seller_id":"6da9003b743b65f4c0ccd295cc484e57"},"enable_single_request":true,"library_dfp_external":true,"price_granularity":true,"timeout_amazon":1000,"has_amxId":true,"identityLink":"13531","configId":59,"prebid_server_bidders":["appnexus","openx","sovrn","smartadserver","pubmatic","rubicon"],"add_filter_settings":true,"adjustments":{"ix":0.8,"adf":0.8,"amx":0.8,"openx":0.8,"sovrn":0.8,"criteo":0.8,"onetag":0.8,"rubicon":0.8,"appnexus":0.8,"pubmatic":0.8,"triplelift":0.8,"richaudience":0.8,"smartadserver":0.8,"nextMillennium":0.7},"refresh_on_change_url_popstate":true,"refresh_on_change_url_pushstate":true,"script_before_gdpr":"function waitingForTcf(){return new Promise(t=>{void 0!==window.__tcfapi&&t();let a=10;const o=setInterval(()=>{a+=10,(void 0!==window.__tcfapi||800<a)&&(800<a?ssmSmartTag.log(\"tt_tcfapi not found\",a):ssmSmartTag.log(\"tt_tcfapi loaded\",a),clearInterval(o),t())},10)})}\r\nfunction showBannerHome(customEvent, selector) {\r\n    ssmSmartTag.log(`Dispatched Event: ${customEvent} from ssm.codes`),window.top.dispatchEvent(new Event(customEvent));var ssmTry2=0,ssmEventInterval2=setInterval(function(){window.top.document.querySelector(\"div\" + selector + \" > div.ssm_adunit_container\")?(ssmTry2++,ssmSmartTag.log(\"Try Dispatched Event \"+ssmTry2+\" attempt: \" + customEvent + \" from ssm.codes\"),window.top.dispatchEvent(new Event(customEvent)),4<ssmTry2&&clearInterval(ssmEventInterval2)):(ssmSmartTag.log(`ssm_adunit ${customEvent} detected from ssm.codes`),clearInterval(ssmEventInterval2))},250);\r\n}\r\nwindow.showBannerHome = showBannerHome\r\n\r\nif(['\/', '\/popular-photos', '\/templates'].includes(window.location.pathname)) {\r\n    (async () => {\r\n        await waitingForTcf()\r\nif(window.__tcfapi === undefined) {\r\nreturn;\r\n}\r\n        window.__tcfapi('addEventListener', 2, (tcData, listenerSuccess) => {\r\n            if (tcData.eventStatus === 'cmpuishown') {\r\n                setTimeout(() => {\r\n\t\t\t\t\tif(window.location.pathname === '\/templates') {\r\n                        window.showBannerHome('content:content_banner_templates', '#content_banner_templates')\r\n                    } else if(window.location.pathname === '\/popular-photos') {\r\n                        window.showBannerHome('content:content_banner_home_photos_fpc', '#content_banner_home_photos_fpc')\r\n                    } else {\r\n                        window.showBannerHome('content:content_banner_home_fpc', '#content_banner_home_fpc')\r\n                    }\r\n                }, 500)\r\n            }\r\n        })\r\n    })()\r\n}\r\n\r\n\r\n\/*function waitForTcfApiv2(callback, interval = 100, timeout = 5000) {\r\n    const startTime = Date.now();\r\n\r\n    const checkExistence = setInterval(function() {\r\n        if (window.__tcfapi) {\r\n            clearInterval(checkExistence);\r\n            callback();\r\n        } else if (Date.now() - startTime > timeout) {\r\n            \/\/ Stop checking after the timeout period\r\n            clearInterval(checkExistence);\r\n            console.error('Timeout waiting for __tcfapi.');\r\n        }\r\n    }, interval);\r\n}\r\nwaitForTcfApiv2(function() {\r\n  if (window.innerWidth>600){\r\n__tcfapi('addEventListener', 2, (tcData, success) => {\r\n  if (success) {\r\n    if (tcData.eventStatus === 'cmpuishown') {\r\n\t   var ampElementContainer = document.querySelector(\"#ssm-1618376698790-0,#ssm-1618376698793-0\");\r\n        var ampScript = document.createElement('script');\r\n        ampScript.async = true;\r\n        ampScript.src = 'https:\/\/cdn.ampproject.org\/v0.js';\r\n        document.head.appendChild(ampScript);\r\n\r\n        var ampScriptAds = document.createElement('script');\r\n        ampScriptAds.async = true;\r\n        ampScriptAds.setAttribute('custom-element', 'amp-ad');\r\n        ampScriptAds.src = 'https:\/\/cdn.ampproject.org\/v0\/amp-ad-0.1.js';\r\n        document.head.appendChild(ampScriptAds);\r\n\tif (document.querySelector(\"#ssm-1618376698790-0,#ssm-1618376698793-0\")){\r\n        var ampAd = document.createElement('amp-ad');\r\n        ampAd.setAttribute('width', '300');\r\n        ampAd.setAttribute('height', '600');\r\n        ampAd.setAttribute('type', 'doubleclick');\r\n        ampAd.setAttribute('data-multi-size', '336x280,300x600,300x250,200x200,160x600,120x600');\r\n\t  \tampAd.setAttribute('data-slot', '\/78011819,64971086\/FREEPIK_EBDA_VERTICAL_1');\r\n\t  \tampAd.setAttribute('json', '{\"targeting\":{\"ssmasdomain\":[\"'+window.location.host+'\"]}}');\r\n\t\tampElementContainer.innerHTML=\"\";\r\n        ampElementContainer.appendChild(ampAd);\r\n\t\t}\r\n\t}\r\n\tif (document.querySelector(\"#ssm-1618376887991-0\")){\r\n\t  var ampElementContainer = document.querySelector(\"#ssm-1618376887991-0\");\r\n\t  var ampAd = document.createElement('amp-ad');\r\n        ampAd.setAttribute('width', '300');\r\n        ampAd.setAttribute('height', '250');\r\n        ampAd.setAttribute('type', 'doubleclick');\r\n        ampAd.setAttribute('data-slot', '\/78011819,64971086\/FREEPIK_EBDA_VERTICAL_2');\r\n\t  ampAd.setAttribute('json', '{\"targeting\":{\"ssmasdomain\":[\"'+window.location.host+'\"]}}');\r\n\t  \tampElementContainer.innerHTML=\"\";\r\n        ampElementContainer.appendChild(ampAd);\r\n\t}\r\n\tif (document.querySelector(\"#ssm-1618376964992-0,#ssm-1618376698794-0\")){\r\n\t  var ampElementContainer = document.querySelector(\"#ssm-1618376964992-0,#ssm-1618376698794-0\");\r\n\t  var ampAd = document.createElement('amp-ad');\r\n        ampAd.setAttribute('width', '300');\r\n        ampAd.setAttribute('height', '600');\r\n        ampAd.setAttribute('type', 'doubleclick');\r\n        ampAd.setAttribute('data-slot', '\/78011819,64971086\/FREEPIK_EBDA_VERTICAL_3');\r\n\t  ampAd.setAttribute('json', '{\"targeting\":{\"ssmasdomain\":[\"'+window.location.host+'\"]}}');\r\n\t  \tampElementContainer.innerHTML=\"\";\r\n        ampElementContainer.appendChild(ampAd);\r\n\t}\r\n\t\r\n  }\r\n  else{\r\ndocument.querySelectorAll(\"amp-ad\").forEach(ampAd =>{ampAd.remove()})\r\n  }\r\n});\r\n  }\r\n  });*\/","auth_selector":"js:JSON.parse(JSON.parse(localStorage.getItem('session\/user')).value).e","check_incognito":true,"run_method":1,"send_event":true,"refresh_on_custom_ssm_navigate":true,"register_button":{"registerHref":"","selector":"","buttonColor":"#000","buttonTextColor":"#fff"},"open_path_ttd":true,"blocked_urls":["www.freepik.com\/photos\/shemale","www.freepik.com\/photos\/pussy","www.freepik.com\/free-photos-vectors\/nazi","www.freepik.com\/free-photos-vectors\/sensual-cuddling","www.freepik.com\/free-photos-vectors\/foreplay","www.freepik.com\/premium-photo\/young-sexy-couple-have-intimacy-bed-guy-stand-hold-woman-lingerie-neck-passionate-brunette-lookback-hair-face-love-lust-intimacy-process-bra-semi-opened_16074101.htm","www.freepik.com\/premium-photo\/chinese-coronavirus-covid-19-microscope-abstract-background-concept-quarantine-pandemic-infection_21598206.htm","www.freepik.com\/photos\/afro-girl-big-boobs","www.freepik.com\/free-photos-vectors\/confederate-flag","www.freepik.com\/free-photos-vectors\/sex-art","\/vectors\/sex-positions","\/photos\/pussy\/","photos\/sexy-kids","free-photos-vectors\/little-girls-underwear","photos\/tween-feet","\/photos\/pussy","free-photos-vectors\/little-loli-nude","\/photos\/shemale","\/free-photos-vectors\/9-year-old-girl-feet","\/vectors\/german-iron-cross","\/premium-vector\/vector-tiger-eyes-mascot-graphic_77766948.htm"],"domain":"freepik.com","activePrebidModules":[90,905,1002,1178,98,64],"pbjsPreConfig":{},"generalAdjustments":"{\"adpone\":0.8}","postBidEnableNetworks":[78011819,21789833810]};
window.ssm_config.adUnits = [{"id":5611,"name":"content_banner_home_fpc","type":"dfp","adcode":"\/64971086\/audience\/content_banner_home_fpc","sizes":[[970,250],[1,1]],"selector":"#content_banner_home_fpc","inside":true,"display_on":"both","run_condition":"true","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"always","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":false,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":11251,"creativePrebids":[]},{"id":5610,"name":"landing_category_bottom","type":"dfp","adcode":"\/64971086\/audience\/landing_category_bottom","sizes":[[970,250],[1,1]],"selector":"#landing_category_bottom","inside":true,"display_on":"both","run_condition":"true","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"always","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":false,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":"","creativePrebids":[]},{"id":13946,"name":"content_banner_templates","type":"dfp","adcode":"\/64971086\/audience\/content_banner_templates_fpc","sizes":[[970,250],[1,1]],"selector":"#content_banner_templates","inside":true,"display_on":"both","run_condition":"true","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"waitfortarget","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":false,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":13947,"creativePrebids":[]},{"id":11251,"name":"content_banner_home_fpc","type":"custom","adcode":"<script>\n  \/\/en evaalscript before gdpr\nwindow.showBannerHome('content:content_banner_home_fpc', '#content_banner_home_fpc')\n<\/script>","sizes":[[970,250],[1,1]],"selector":"#content_banner_home_fpc","inside":true,"display_on":"both","run_condition":"window.location.pathname === '\/'","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"waitfortarget","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":false,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":"","creativePrebids":[]},{"id":14527,"name":"content_banner_home_ai_images_fpc","type":"dfp","adcode":"\/64971086\/audience\/content_banner_home_ai_images_fpc","sizes":[[970,250],[1,1]],"selector":"#content_banner_home_ai_images_fpc","inside":true,"display_on":"both","run_condition":"true","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"waitfortarget","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":false,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":14528,"creativePrebids":[]},{"id":7282,"name":"content_banner_home_fpc_incognito","type":"custom","adcode":"<script>\n  \/\/en evaalscript before gdpr\nwindow.showBannerHome('content:content_banner_home_fpc', '#content_banner_home_fpc')\n<\/script>","sizes":[[970,250],[1,1]],"selector":"#content_banner_home_fpc","inside":true,"display_on":"both","run_condition":"true","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"always","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":true,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":"","creativePrebids":[]},{"id":13947,"name":"content_banner_templates","type":"custom","adcode":"<script>\n  \/\/en evaalscript before gdpr\nwindow.showBannerHome('content:content_banner_templates', '#content_banner_templates')\n<\/script>","sizes":[[970,250],[1,1]],"selector":"#content_banner_templates","inside":true,"display_on":"both","run_condition":"window.location.pathname === '\/templates'","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"waitfortarget","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":false,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":"","creativePrebids":[]},{"id":13948,"name":"content_banner_templates_incognito","type":"custom","adcode":"<script>\n  \/\/en evaalscript before gdpr\nwindow.showBannerHome('content:content_banner_templates', '#content_banner_templates')\n<\/script>","sizes":[[970,250],[1,1]],"selector":"#content_banner_templates","inside":true,"display_on":"both","run_condition":"true","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"always","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":true,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":"","creativePrebids":[]},{"id":14528,"name":"content_banner_home_ai_images_fpc","type":"custom","adcode":"<script>\n  \/\/en evaalscript before gdpr\nwindow.showBannerHome('content:content_banner_home_ai_images_fpc', '#content_banner_home_ai_images_fpc')\n<\/script>","sizes":[[970,250],[1,1]],"selector":"#content_banner_home_ai_images_fpc","inside":true,"display_on":"both","run_condition":"true","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"waitfortarget","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":false,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":"","creativePrebids":[]},{"id":12071,"name":"content_banner_home_photos_fpc","type":"dfp","adcode":"\/64971086\/audience\/content_banner_home_photos_fpc","sizes":[[970,250],[1,1]],"selector":"[id*=\"content_banner_home_photos_fpc\"]","inside":true,"display_on":"both","run_condition":"window.location.pathname === '\/popular-photos'","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"waitfortarget","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":false,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":12070,"creativePrebids":[]},{"id":14529,"name":"content_banner_home_ai_images_fpc_incognito","type":"custom","adcode":"<script>\n  \/\/en evaalscript before gdpr\nwindow.showBannerHome('content:content_banner_home_ai_images_fpc', '#content_banner_home_ai_images_fpc')\n<\/script>","sizes":[[970,250],[1,1]],"selector":"#content_banner_home_ai_images_fpc","inside":true,"display_on":"both","run_condition":"true","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"always","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":true,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":"","creativePrebids":[]},{"id":12070,"name":"content_banner_home_photos_fp","type":"custom","adcode":"<script>\n  \/\/en evaalscript before gdpr\nwindow.showBannerHome('content:content_banner_home_photos_fpc', '[id*=\"content_banner_home_photos_fpc\"]')\n<\/script>","sizes":[[970,250],[1,1]],"selector":"[id*=\"content_banner_home_photos_fpc\"]","inside":true,"display_on":"both","run_condition":"window.location.pathname === '\/popular-photos'","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"waitfortarget","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":false,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":"","creativePrebids":[]},{"id":12139,"name":"content_banner_home_photos_fpc_incognito","type":"custom","adcode":"<script>\n  \/\/en evaalscript before gdpr\nwindow.showBannerHome('content:content_banner_home_photos_fpc', '#content_banner_home_photos_fpc')\n<\/script>","sizes":[[970,250],[1,1]],"selector":"#content_banner_home_photos_fpc","inside":true,"display_on":"both","run_condition":"true","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"always","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":true,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":"","creativePrebids":[]},{"id":5335,"name":"middlebanner_home","type":"dfp","adcode":"\/64971086\/audience\/middlebanner_home","sizes":[[970,90],[1,1]],"selector":"#middlebanner_home","inside":true,"display_on":"both","run_condition":"true","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"always","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":false,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":12454,"creativePrebids":[]},{"id":12454,"name":"middlebanner_home","type":"custom","adcode":"<script>\n  \/\/en evaalscript before gdpr\nwindow.showBannerHome('content:middlebanner_home', '#middlebanner_home')\n<\/script>","sizes":[[970,250],[1,1]],"selector":"#middlebanner_home","inside":true,"display_on":"both","run_condition":"window.location.pathname === '\/'","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"waitfortarget","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":null,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":false,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":"","creativePrebids":[]},{"id":7283,"name":"middlebanner_home_incognito","type":"custom","adcode":"<script>\n  \/\/en evaalscript before gdpr\nwindow.showBannerHome('content:middlebanner_home', '#middlebanner_home')\n<\/script>","sizes":[[970,90],[1,1]],"selector":"#middlebanner_home","inside":true,"display_on":"both","run_condition":"true","styles":"height:unset !important;width:100%;display:block!important;","location":"before","load":"always","refresh":false,"sticky":false,"timeout":null,"prebid":false,"amazon":false,"adserver":false,"prebid_geo":null,"prebid_default":null,"show_label":false,"campaign":"none","prebid_refresh":null,"advertiser_ids":null,"outstream":false,"is_native":false,"is_open_rtb":false,"position_affix":null,"affix_height":0,"targeting":null,"position_affix_css":false,"no_fallback_empty_render":false,"attempts_on_empty":null,"delete_horizontal_mobile":false,"is_limited_ads":true,"external_run":false,"out_page_format":null,"no_delete_style_empty":false,"placement_rubicon_ssp":null,"script_after_render":null,"run_adsense":null,"first_look":false,"expose_vast":false,"is_sky":false,"sky_container":null,"postbid_styles":null,"postbid_disable":0,"position_iframe":false,"prebid_floors":null,"fallback":"","creativePrebids":[]}];
window.ssm_config.vars = [];
window.ssm_config.libraries = ["dfp","sha256","detectIncognito"];
/** START dfp **/;/** END dfp **/
/** START sha256 **/(function(){function p(a){this.data="";this.a=0;if("string"===typeof a)this.data=a;else if(b.D(a)||b.L(a)){a=new Uint8Array(a);try{this.data=String.fromCharCode.apply(null,a)}catch(f){for(var v=0;v<a.length;++v)this.M(a[v])}}else if(a instanceof p||"object"===typeof a&&"string"===typeof a.data&&"number"===typeof a.a)this.data=a.data,this.a=a.a;this.v=0}function w(a,f,b){for(var d,c,h,m,g,k,e,r,n,l,t,q,u,p=b.length();64<=p;){for(g=0;16>g;++g)f[g]=b.getInt32();for(;64>g;++g)d=f[g-2],d=(d>>>17|d<<15)^
    (d>>>19|d<<13)^d>>>10,c=f[g-15],c=(c>>>7|c<<25)^(c>>>18|c<<14)^c>>>3,f[g]=d+f[g-7]+c+f[g-16]|0;k=a.g;e=a.h;r=a.i;n=a.j;l=a.l;t=a.m;q=a.o;u=a.s;for(g=0;64>g;++g)d=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),h=q^l&(t^q),c=(k>>>2|k<<30)^(k>>>13|k<<19)^(k>>>22|k<<10),m=k&e|r&(k^e),d=u+d+h+x[g]+f[g],c+=m,u=q,q=t,t=l,l=n+d|0,n=r,r=e,e=k,k=d+c|0;a.g=a.g+k|0;a.h=a.h+e|0;a.i=a.i+r|0;a.j=a.j+n|0;a.l=a.l+l|0;a.m=a.m+t|0;a.o=a.o+q|0;a.s=a.s+u|0;p-=64}}var m,y,e,b=m=m||{};b.D=function(a){return"undefined"!==typeof ArrayBuffer&&
    a instanceof ArrayBuffer};b.L=function(a){return a&&b.D(a.buffer)&&void 0!==a.byteLength};b.G=p;b.b=p;b.b.prototype.H=function(a){this.v+=a;4096<this.v&&(this.v=0)};b.b.prototype.length=function(){return this.data.length-this.a};b.b.prototype.M=function(a){this.u(String.fromCharCode(a))};b.b.prototype.u=function(a){this.data+=a;this.H(a.length)};b.b.prototype.c=function(a){this.u(String.fromCharCode(a>>24&255)+String.fromCharCode(a>>16&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a&255))};
    b.b.prototype.getInt16=function(){var a=this.data.charCodeAt(this.a)<<8^this.data.charCodeAt(this.a+1);this.a+=2;return a};b.b.prototype.getInt32=function(){var a=this.data.charCodeAt(this.a)<<24^this.data.charCodeAt(this.a+1)<<16^this.data.charCodeAt(this.a+2)<<8^this.data.charCodeAt(this.a+3);this.a+=4;return a};b.b.prototype.B=function(){return this.data.slice(this.a)};b.b.prototype.compact=function(){0<this.a&&(this.data=this.data.slice(this.a),this.a=0);return this};b.b.prototype.clear=function(){this.data=
        "";this.a=0;return this};b.b.prototype.truncate=function(a){a=Math.max(0,this.length()-a);this.data=this.data.substr(this.a,a);this.a=0;return this};b.b.prototype.N=function(){for(var a="",f=this.a;f<this.data.length;++f){var b=this.data.charCodeAt(f);16>b&&(a+="0");a+=b.toString(16)}return a};b.b.prototype.toString=function(){return b.I(this.B())};b.createBuffer=function(a,f){void 0!==a&&"utf8"===(f||"raw")&&(a=b.C(a));return new b.G(a)};b.J=function(){for(var a=String.fromCharCode(0),b=64,e="";0<
    b;)b&1&&(e+=a),b>>>=1,0<b&&(a+=a);return e};b.C=function(a){return unescape(encodeURIComponent(a))};b.I=function(a){return decodeURIComponent(escape(a))};b.K=function(a){for(var b=0;b<a.length;b++)if(a.charCodeAt(b)>>>8)return!0;return!1};var z=y=y||{};e=e||{};e.A=e.A||{};e.F=e.A.F=z;z.create=function(){A||(n=String.fromCharCode(128),n+=m.J(),x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,
        3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,
        3204031479,3329325298],A=!0);var a=null,b=m.createBuffer(),e=Array(64),d={algorithm:"sha256",O:64,P:32,w:0,f:[0,0],start:function(){d.w=0;d.f=[0,0];b=m.createBuffer();a={g:1779033703,h:3144134277,i:1013904242,j:2773480762,l:1359893119,m:2600822924,o:528734635,s:1541459225};return d}};d.start();d.update=function(c,h){"utf8"===h&&(c=m.C(c));d.w+=c.length;d.f[0]+=c.length/4294967296>>>0;d.f[1]+=c.length>>>0;b.u(c);w(a,e,b);(2048<b.a||0===b.length())&&b.compact();return d};d.digest=function(){var c=m.createBuffer();
        c.u(b.B());c.u(n.substr(0,64-(d.f[1]+8&63)));c.c(d.f[0]<<3|d.f[0]>>>28);c.c(d.f[1]<<3);var h={g:a.g,h:a.h,i:a.i,j:a.j,l:a.l,m:a.m,o:a.o,s:a.s};w(h,e,c);c=m.createBuffer();c.c(h.g);c.c(h.h);c.c(h.i);c.c(h.j);c.c(h.l);c.c(h.m);c.c(h.o);c.c(h.s);return c};return d};var n=null,A=!1,x=null;window.forge_sha256=function(a){var f=e.F.create();f.update(a,b.K(a)?"utf8":void 0);return f.digest().N()}})();
;/** END sha256 **/
/** START detectIncognito **/!function(){var e={};!function(){"use strict";var t=e;t.detectIncognito=void 0,t.detectIncognito=function(){return new Promise((function(e,t){var o,n,r="Unknown";function i(t){e({isPrivate:t,browserName:r})}function a(e){return e===eval.toString().length}void 0!==(n=navigator.vendor)&&0===n.indexOf("Apple")&&a(37)?(r="Safari",void 0!==navigator.maxTouchPoints?function(){var e=String(Math.random());try{window.indexedDB.open(e,1).onupgradeneeded=function(t){var o,n,r=null===(o=t.target)||void 0===o?void 0:o.result;try{r.createObjectStore("test",{autoIncrement:!0}).put(new Blob),i(!1)}catch(e){var a=e;return e instanceof Error&&(a=null!==(n=e.message)&&void 0!==n?n:e),i("string"==typeof a&&/BlobURLs are not yet supported/.test(a))}finally{r.close(),window.indexedDB.deleteDatabase(e)}}}catch(e){return i(!1)}}():function(){var e=window.openDatabase,t=window.localStorage;try{e(null,null,null,null)}catch(e){return i(!0)}try{t.setItem("test","1"),t.removeItem("test")}catch(e){return i(!0)}i(!1)}()):function(){var e=navigator.vendor;return void 0!==e&&0===e.indexOf("Google")&&a(33)}()?(o=navigator.userAgent,r=o.match(/Chrome/)?void 0!==navigator.brave?"Brave":o.match(/Edg/)?"Edge":o.match(/OPR/)?"Opera":"Chrome":"Chromium",void 0!==self.Promise&&void 0!==self.Promise.allSettled?navigator.webkitTemporaryStorage.queryUsageAndQuota((function(e,t){var o;i(Math.round(t/1048576)<2*Math.round((void 0!==(o=window).performance&&void 0!==o.performance.memory&&void 0!==o.performance.memory.jsHeapSizeLimit?performance.memory.jsHeapSizeLimit:1073741824)/1048576))}),(function(e){t(new Error("detectIncognito somehow failed to query storage quota: "+e.message))})):(0,window.webkitRequestFileSystem)(0,1,(function(){i(!1)}),(function(){i(!0)}))):void 0!==document.documentElement&&void 0!==document.documentElement.style.MozAppearance&&a(37)?(r="Firefox",i(void 0===navigator.serviceWorker)):void 0!==navigator.msSaveBlob&&a(39)?(r="Internet Explorer",i(void 0===window.indexedDB)):t(new Error("detectIncognito cannot determine the browser"))}))}}(),detectIncognito=e.detectIncognito}();
;/** END detectIncognito **/
window.ssm_config.buildDate = "2025-02-14 08:00:14";
!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=11)}([function(module,__webpack_exports__,__webpack_require__){"use strict";function safeEval(code){let context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",withLog=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{return eval(code)}catch(e){return void(withLog&&console.error("Failed executing: ",code,context))}}function isDocumentReady(){return"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState}async function waitingForGr(){return new Promise(e=>{if("object"==typeof window.gr)return void e();const t=setInterval(()=>{"object"==typeof window.gr&&"object"==typeof window.gr.auth&&"object"==typeof window.gr.auth.me&&(clearInterval(t),e())},100)})}async function waitingImaSdk(){return new Promise(e=>{"object"==typeof window.google&&"object"===window.google.ima&&e();const t=setInterval(()=>{"object"==typeof window.google&&"object"==typeof window.google.ima&&(clearInterval(t),e())},100)})}async function waitingForTcf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(i=>{void 0!==window.__tcfapi&&i();let s=10;const n=setInterval(()=>{s+=10,(void 0!==window.__tcfapi||s>e)&&(s>e?t&&ssmSmartTag.log("CMP tcfapi not found",s):t&&ssmSmartTag.log("CMP tcfapi loaded",s),clearInterval(n),i())},10)})}async function waitingAdManager(){return new Promise(e=>{"object"==typeof window.googletag&&window.googletag.apiReady&&(window.googletag=window.googletag||{cmd:[]},window.googletag=Object.assign({},window.googletag),e());const t=setInterval(()=>{"object"==typeof window.googletag&&window.googletag.apiReady&&(window.googletag=window.googletag||{cmd:[]},window.googletag=Object.assign({},window.googletag),clearInterval(t),e())},5)})}async function waitingPwt(){return new Promise(e=>{"object"==typeof window.PWT&&"function"==typeof window.PWT.getUserIds&&e();const t=setInterval(()=>{"object"==typeof window.PWT&&"function"==typeof window.PWT.getUserIds&&(clearInterval(t),e())},100)})}async function waitToAnalytics(){return new Promise(e=>{void 0!==window.ga&&e(!0);let t=100;const i=setInterval(()=>{t+=100,(void 0!==window.ga||t>1e3)&&(clearInterval(i),e(!0))},50)})}function debounce(e){var t;return function(i){t&&clearTimeout(t),t=setTimeout(e,1e3,i)}}function onlyIndexes(e,t){return t?{bidder:e.bidder,multiplicador:e.multiplicador}:(e.video&&e.video.params&&"object"==typeof e.video.params&&Object.keys(e.video.params).length&&(e.params.video=e.video.params),{bidder:e.bidder,params:e.params})}function filterIndexes(e,t){return e.map((function(e){return onlyIndexes(e,t)}))}function ssmInArray(e,t){var i;for(i=0;i<e.length;i++)if(e[i]===t)return!0;return!1}function ssmArrayUnique(e){let t={};return e.filter((function(e){return!t.hasOwnProperty(e)&&(t[e]=!0)}))}function ssmOnlyUnique(e,t,i){return i.indexOf(e)===t}function getPrebidFieldUse(pSmartTag,adUnit,with_multip){let filterByCountry=window.ssmCountry||localStorage.ssmGeo,prebidUsed={load:!1,config:{},hasNative:!1};if(adUnit.config.creativePrebids&&adUnit.config.creativePrebids.length){let validPrebids=[];if(adUnit.config.creativePrebids.forEach((function(creative){if(adUnit.refreshCount>0&&creative.no_refresh)return;if(!creative.prebid_default.length)return;let valid_countries=!1;"allways"!==creative.show_on&&filterByCountry?"some"===creative.show_on?valid_countries=creative.countries.filter(e=>e===filterByCountry).length:"except"===creative.show_on&&(valid_countries=!creative.countries.filter(e=>e===filterByCountry).length):valid_countries=!0,valid_countries?("allways"===creative.show_on&&(creative.prebid_default=filterByGeo(creative.prebid_default,filterByCountry)),valid_countries&&creative.prebid_default.length&&(creative.prebid_default.forEach(preParams=>{Object.keys(preParams.params).forEach(param=>{"string"==typeof preParams.params[param]&&-1!==preParams.params[param].indexOf("function")&&(preParams.params[param]=eval(preParams.params[param]))})}),creative.prebid_default.map(e=>(e.params.ssmCreativeId=creative.id,e.params.ssmAccount=creative.ssm_account,e)),validPrebids=validPrebids.concat(creative.prebid_default))):ssmSmartTag.log("No request by rule creative",creative.prebid_default[0].bidder,filterByCountry)})),validPrebids.length)return prebidUsed.hasNative=validPrebids.filter(e=>!0===e.hasNative).length>0,prebidUsed.hasVideo=getConfigVideo(validPrebids),prebidUsed.config=filterIndexes(validPrebids,with_multip),prebidUsed.load='"Creative Prebids"',prebidUsed}try{if(adUnit.config.prebid_default&&adUnit.config.prebid_default.length>0){let e=adUnit.config.prebid_default;return pSmartTag.config.prebid_general&&pSmartTag.config.prebid_general.length&&(pSmartTag.log("Merge SmartGeneral"),e=adUnit.config.prebid_default.concat(pSmartTag.config.prebid_general)),e=filterByGeo(e,filterByCountry),prebidUsed.hasVideo=getConfigVideo(e),prebidUsed.hasNative=e.filter(e=>!0===e.hasNative).length>0,prebidUsed.config=filterIndexes(e,with_multip),prebidUsed.load='"AdUnit Prebid Config"',prebidUsed}}catch(e){pSmartTag.log("Adunit Prebid Config Error:",adUnit.config.name,prebidUsed.config,e)}return pSmartTag.config.prebid_default&&pSmartTag.config.prebid_default.length&&(pSmartTag.config.prebid_default=filterByGeo(pSmartTag.config.prebid_default,filterByCountry),prebidUsed.load='"smartTag prebid Config"',prebidUsed.hasVideo=getConfigVideo(pSmartTag.config.prebid_default),prebidUsed.hasNative=pSmartTag.config.prebid_default&&pSmartTag.config.prebid_default.filter(e=>!0===e.hasNative).length>0,prebidUsed.config=pSmartTag.config.prebid_default?filterIndexes(pSmartTag.config.prebid_default,with_multip):[]),prebidUsed}function filterByGeo(e,t){return e.filter(e=>{if(!t)return!0;if(ssmSmartTag.config.geo_rules&&ssmSmartTag.config.geo_rules[e.bidder]){if(!ssmInArray(ssmSmartTag.config.geo_rules[e.bidder],t))return ssmSmartTag.log("No request by country rule smartTag",e.bidder,t),!1}else if(ssmSmartTag.config.gnrlGeoRules&&ssmSmartTag.config.gnrlGeoRules[e.bidder]){if(!ssmSmartTag.config.gnrlGeoRules[e.bidder].is_block_list&&!ssmInArray(ssmSmartTag.config.gnrlGeoRules[e.bidder].countries,t))return ssmSmartTag.log("No Request by country Generic rule allow",e.bidder,t),!1;if(ssmSmartTag.config.gnrlGeoRules[e.bidder].is_block_list&&ssmInArray(ssmSmartTag.config.gnrlGeoRules[e.bidder].countries,t))return ssmSmartTag.log("No Request by country Generic rule block",e.bidder,t),!1}return!0})}function getConfigVideo(e){if(!e||!e.length)return!1;let t=e.filter(e=>e.video);return t.length>0&&{config:t[0].video.config}}function getGoogleId(){try{return document.cookie.match(new RegExp("(^| )_gid=([^;]+)"))[2]}catch(e){}return null}async function loadScript(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(s,n){try{if(document.querySelector("[src='"+e+"']"))return void s();let o=document.createElement("script");o.onload=s,o.onerror=n,o.src=e,t&&(o.async=!0),"otCCPAiab"===i&&(window.location.href.indexOf("bgtest245")>-1?o.setAttribute("ccpa-opt-out-ids","C0002,C0004,C0005,BG53"):window.location.href.indexOf("bgtest567")>-1?o.setAttribute("ccpa-opt-out-ids","C0005,C0006,C0007,BG53"):o.setAttribute("ccpa-opt-out-ids","C0002,C0004,C0005"),o.setAttribute("ccpa-opt-out-geo","ca"),o.setAttribute("ccpa-opt-out-lspa","false"));let r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(o,r):document.head.appendChild(o)}catch(e){console.error(e)}}))}async function loadExternalLibrary(){ssmSmartTag.config.libraries&&ssmSmartTag.config.libraries.indexOf("dfp")>=0&&!ssmSmartTag.config.has_pubmaticIdentity&&(ssmSmartTag.isLimitedAds||ssmSmartTag.doPrivate?(ssmSmartTag.log("CMP Load limitedAds library"),loadScript("https://pagead2.googlesyndication.com/tag/js/gpt.js",!0)):loadScript("https://securepubads.g.doubleclick.net/tag/js/gpt.js",!0),window.googletag=window.googletag||{cmd:[]},window.googletag=Object.assign({},window.googletag))}async function loadIframe(e){return new Promise((function(t,i){var s=document.createElement("iframe");s.onload=t,s.classList.add("ssmLoadIframe"),s.style.display="none",s.onerror=i,s.src=e,document.querySelector("body").appendChild(s)}))}function ssmHasBidder(e,t){return!!e.filter((function(e){return!!e.bids.filter((function(e){return e.bidder===t})).length})).length}function getParamFromBidder(e,t,i){let s=!1;return e.forEach(e=>{e.bids.forEach(e=>{e.bidder===t&&e.params[i]&&(s=e.params[i])})}),s}function getParametersFromUrl(e){const t=new URLSearchParams(window.location.search),i={};return t.forEach((t,s)=>{s.startsWith(e)&&(i[s]=t)}),i}function loadCookies(e){e?(ssmSmartTag.isPrivate=e,ssmSmartTag.doPrivate=e,ssmSmartTag.setRequestNonPersonalizedAds=e,ssmSmartTag.log("Loading cookies with CCPA compliance."),ssmSmartTag.prebid=null,ssmSmartTag.amazon=null):ssmSmartTag.log("Loading cookies normally.")}function handleConsentChange(){__uspapi("getUSPData",1,(e,t)=>{if(t&&e){const t="1---"!==e.uspString&&"1YNN"!==e.uspString;resolve(t)}else loadCookies(!1)})}function checkIfCCPAApplies(){return new Promise(async(e,t)=>{try{__uspapi("getUSPData",1,(t,i)=>{if(i&&t){const i="1---"!==t.uspString&&"1YNN"!==t.uspString;ssmSmartTag.log("getUSPData",i,t.uspString),e(i)}else e(!1)})}catch(e){t(e)}})}async function waitingForUspapi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800;return new Promise(t=>{void 0!==window.__uspapi&&t();let i=10;const s=setInterval(()=>{i+=10,(void 0!==window.__uspapi||i>e)&&(i>e?ssmSmartTag.log("CMP uspapi not found",i):ssmSmartTag.log("CMP uspapi loaded",i),clearInterval(s),t())},10)})}async function waitingForOneTrust(){return new Promise(e=>{void 0!==window.OneTrust&&e();let t=10;const i=setInterval(()=>{t+=10,(void 0!==window.OneTrust||t>500)&&(t>500?ssmSmartTag.log("onetrust not found",t):ssmSmartTag.log("onetrust loaded",t),clearInterval(i),e())},10)})}function blockSmartTag(e){if(e.run_condition&&!safeEval(e.run_condition))return"⚠️ Smart tag run condition returned false";if(e.blocked_urls){if(e.blocked_urls.filter(e=>window.location.href.toLowerCase().indexOf(e.toLowerCase())>-1).length)return"⚠️ Smart tag blocked by url"}return!1}__webpack_require__.d(__webpack_exports__,"k",(function(){return safeEval})),__webpack_require__.d(__webpack_exports__,"g",(function(){return isDocumentReady})),__webpack_require__.d(__webpack_exports__,"s",(function(){return waitingImaSdk})),__webpack_require__.d(__webpack_exports__,"q",(function(){return waitingForTcf})),__webpack_require__.d(__webpack_exports__,"p",(function(){return waitingAdManager})),__webpack_require__.d(__webpack_exports__,"t",(function(){return waitingPwt})),__webpack_require__.d(__webpack_exports__,"o",(function(){return waitToAnalytics})),__webpack_require__.d(__webpack_exports__,"c",(function(){return debounce})),__webpack_require__.d(__webpack_exports__,"n",(function(){return ssmInArray})),__webpack_require__.d(__webpack_exports__,"l",(function(){return ssmArrayUnique})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getPrebidFieldUse})),__webpack_require__.d(__webpack_exports__,"j",(function(){return loadScript})),__webpack_require__.d(__webpack_exports__,"h",(function(){return loadExternalLibrary})),__webpack_require__.d(__webpack_exports__,"i",(function(){return loadIframe})),__webpack_require__.d(__webpack_exports__,"m",(function(){return ssmHasBidder})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getParamFromBidder})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getParametersFromUrl})),__webpack_require__.d(__webpack_exports__,"r",(function(){return waitingForUspapi})),__webpack_require__.d(__webpack_exports__,"b",(function(){return blockSmartTag})),__webpack_require__.d(__webpack_exports__,"a",(function(){return applyFilters})),window.ssmTrack=function(e,t,i){sessionStorage.cid||(sessionStorage.cid=getGoogleId());let s=`?v=1&t=event&tid=UA-73713829-10&cid=${sessionStorage.cid}&ec=${e}&ea=${t}&el=${i}`;(new Image).src="https://www.google-analytics.com/collect"+s};const filters={};function addFilter(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;filters[e]||(filters[e]=[]);const s=new Error,n=s.stack.split("\n")[2].trim();filters[e].push({callback:t,priority:i,trace:n}),filters[e].sort((e,t)=>e.priority-t.priority)}function applyFilters(e,t){return filters[e]?filters[e].reduce((e,t)=>(console.log("Applying filter from: "+t.trace),t.callback(e)),t):t}},function(e,t,i){"use strict";var s=i(7);class n{constructor(e){this.smartTag=e,this.slots=[],this.adUnits=[]}async createFor(e,t){this.adUnits=e,this.slots=[],this.adUnits.forEach(e=>{if(e.run_adsense&&!e.fallback&&404===this.smartTag.config.configId){let t=this.modifyAdcode(e.adcode);if(t){this.smartTag.log("Create Fallback Adunit",e.id,t);let i=Object.assign({},e);i.id=1+i.id.toString(),i.id=parseInt(i.id),i.adcode=t,i.name="PSB-"+i.name,i.run_adsense=!1,i.is_sky=e.is_sky,"body"===e.selector||e.sticky?(i.inside=!0,i.location="after"):i.location="replace",e.fallback=i.id,this.adUnits.push(i)}}}),this.adUnits.forEach(e=>{this.adUnits.forEach(t=>{(e.fallback&&t.id&&"number"==typeof e.fallback&&e.fallback===t.id||"object"==typeof e.fallback&&e.fallback.id===t.id)&&(e.fallback=t,t.fallbackOf=e)})}),this.adUnits=this.adUnits.sort((e,t)=>(null!=e.fallback?1:1/0)-(null!=t.fallback?1:1/0));const i=e.map(e=>new s.a(e,this.smartTag,t).inject());return Promise.all(i).then(e=>{e.forEach(e=>{e&&e.el&&this.slots.push(e)})})}of(e){return this.slots.filter(t=>t.config.type===e)}withConfig(e,t){return this.slots.filter(i=>i.config[t]&&i.config.type===e)}findFallback(e){if(!e.fallback)return;const t=this.adUnits.filter(t=>t.id===e.fallback.id);return t.length?t[0]:void 0}async findAndRunfallbackFor(e){const t=this.findFallback(e);if(!t)return;const i=new s.a(t,this.smartTag);if(await i.inject(!0),!i.el)return;const o=new n(this);return o.slots=[i],this.smartTag.runSlots(o)}modifyAdcode(e){const t=/^\/(\d+)\/([a-zA-Z0-9._-]+)\/([a-zA-Z0-9._-]+)$/;return t.test(e)?e.replace(t,(function(e,t,i,s){return`/78011819,${t}/ara.cat/${s}_psb`})):(this.smartTag.log("El string no cumple con el patrón para psb.",e),null)}}t.a=n},function(e,t,i){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){return t.reject(i)}))}))}},function(e,t,i){"use strict";t.a=function(e){return new this((function(t,i){if(!e||void 0===e.length)return i(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var s=Array.prototype.slice.call(e);if(0===s.length)return t([]);var n=s.length;function o(e,i){if(i&&("object"==typeof i||"function"==typeof i)){var r=i.then;if("function"==typeof r)return void r.call(i,(function(t){o(e,t)}),(function(i){s[e]={status:"rejected",reason:i},0==--n&&t(s)}))}s[e]={status:"fulfilled",value:i},0==--n&&t(s)}for(var r=0;r<s.length;r++)o(r,s[r])}))}},function(e,t,i){"use strict";function s(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}s.prototype=Error.prototype,t.a=function(e){var t=this;return new t((function(i,n){if(!e||void 0===e.length)return n(new TypeError("Promise.any accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return n();for(var r=[],a=0;a<o.length;a++)try{t.resolve(o[a]).then(i).catch((function(e){r.push(e),r.length===o.length&&n(new s(r,"All promises were rejected"))}))}catch(e){n(e)}}))}},function(e,t,i){var s=i(16);e.exports=function(e,t,i){return(t=s(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(module,__webpack_exports__,__webpack_require__){"use strict";var _DocumentReady__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8),_SlotManager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_Helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0);class AdUnit{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;this.config=e,this.refreshCount=0,this.smartTag=t,this.el=null,this.loaded=!1,this.async=!1,this.context=e.sticky||"body"===e.selector?document:i,this.refreshByRule=null,e&&e.fallback&&(this.fallback=e.fallback),e&&e.fallbackOf&&(this.fallbackOf=e.fallbackOf)}async inject(force){var _this$smartTag$config;if(this.smartTag.doPrivate&&!this.config.is_limited_ads)return this.smartTag.log(`🔴 AdUnit '${this.config.name} (${this.config.id})' not injected. Is Private. No limited ads`),Promise.resolve();if(!this.smartTag.doPrivate&&this.config.is_limited_ads)return this.smartTag.log(`🔴 AdUnit '${this.config.name} (${this.config.id})' not injected. No Private. Is limited ads.`),Promise.resolve();if(this.fallbackOf&&!force)return this.smartTag.log(`🔴 AdUnit '${this.config.name} (${this.config.id})' not injected (is fallback of ${this.fallbackOf.name} ${this.fallbackOf.id})`),Promise.resolve();if(this.fallbackOf&&this.smartTag.log(`🟢 Injecting fallback for '${this.fallbackOf.name}' (${this.config.name} (${this.config.id}))`),!Object(_Helpers__WEBPACK_IMPORTED_MODULE_2__.k)(this.config.run_condition)){this.smartTag.log(`🔴 adUnit '${this.config.name} (${this.config.id})' not injected`);const e=this.smartTag.slots.findFallback(this.config);return e&&(this.smartTag.log(`[Fallback] Enabling AdUnit fallback ${e.name} ${e.id}`),e.fallbackOf=null),Promise.resolve()}let compareScreenWidth=null!==(_this$smartTag$config=this.smartTag.config.screen_width)&&void 0!==_this$smartTag$config?_this$smartTag$config:800,target;if("desktop"===this.config.display_on&&window.innerWidth<compareScreenWidth)return this.smartTag.log(`🔴 AdUnit '${this.config.name} (${this.config.id})' not injected (not desktop)`),Promise.resolve();if("mobile"===this.config.display_on&&window.innerWidth>=compareScreenWidth)return this.smartTag.log(`🔴 AdUnit '${this.config.name} (${this.config.id})' not injected (not mobile)`),Promise.resolve();let waitTarget="waitfortarget"===this.config.load||"targetnotscreen"===this.config.load;if(this.config.selector.indexOf("js:")>-1)try{let selector=this.config.selector.replace("js:","");if(this.config.external_run&&(selector=selector.replaceAll(/\//g,"\\/")),this.smartTag.log(`⏳ AdUnit '${this.config.name} (${this.config.id})' js selector requires dom ready, waiting...`),await _DocumentReady__WEBPACK_IMPORTED_MODULE_0__.a,this.smartTag.log(`${this.config.name} (${this.config.id})' Dom ready`),Object(_Helpers__WEBPACK_IMPORTED_MODULE_2__.k)(selector))target=eval(selector);else if(!waitTarget)return this.smartTag.log(`🔴 AdUnit '${this.config.name} (${this.config.id})' not injected. Eval js not found: ${this.config.selector}`),Promise.resolve()}catch(e){return Promise.resolve()}else target=this.context.querySelector(this.config.selector),target||(Object(_Helpers__WEBPACK_IMPORTED_MODULE_2__.g)()||(this.smartTag.log(`🔴 AdUnit '${this.config.name} (${this.config.id})' target not found, waiting for document ready`),await _DocumentReady__WEBPACK_IMPORTED_MODULE_0__.a),target=this.context.querySelector(this.config.selector));if(!target&&waitTarget)this.smartTag.log(`🔵 AdUnit '${this.config.name} (${this.config.id})' waiting for target`),this.waitForTarget(this.config.selector);else{if(!target)return this.smartTag.log(`🔴 AdUnit '${this.config.name} (${this.config.id})' not injected (target not found)`,this.config.selector),Promise.resolve();if(this.config.ssmInterstitial){if(!this.checkInterstitialFreq())return this.smartTag.log(`🔴 AdUnit '${this.config.name} (${this.config.id})' not injected (ssmInterstitial by frequency)`),Promise.resolve();if(this.el=this.createSsmInterstitialContainer(),!this.el)return this.smartTag.log(`🔴 AdUnit '${this.config.name} (${this.config.id})' not injected (ssmInterstitial not found)`),Promise.resolve()}else this.el=this.createAdUnitContainer(target);this.smartTag.log(`🟢 AdUnit '${this.config.name} (${this.config.id})' injected`,this.el)}return this}createAdUnitContainer(e){const t=document.createElement("div");return t.classList.add("ssm_adunit_container"),t.classList.add("aU-"+this.config.id),this.config.styles&&t.setAttribute("style",this.config.styles),46===this.smartTag.config.configId?t.id="ssm_container-"+this.config.id:this.config.outstream?t.id=this.config.adcode:t.id="ssm_container-"+(1e9*Math.random()).toFixed(0),this.config.position_affix_css?t.addEventListener("render",e=>{this.smartTag.log("Affix CSS active",this.config.id);let i=t.firstElementChild;i&&i.firstElementChild&&i.firstElementChild.clientHeight<t.clientHeight&&(i.style.position="sticky",i.style.top=this.config.affix_height+"px")}):this.config.position_affix&&(void 0===this.smartTag.firstInitEventScroll&&this.smartTag.initEventScroll(),t.addEventListener("render",e=>{var i;t.firstElementChild.clientHeight<t.clientHeight&&(void 0===this.smartTag.affixPositions&&(this.smartTag.log("Affix active",this.config.id),this.smartTag.affixPositions=[]),this.smartTag.affixPositions[this.config.id]=null!==(i=this.config.affix_height)&&void 0!==i?i:0)})),this.config.is_sky&&t.classList.add("ssm_sky"),this.config.sticky&&(t.classList.add("ssmsticky"),t.addEventListener("render",e=>{var i;const s=null===(i=document.querySelector("#ssmPremiumContainer"))||void 0===i||null===(i=i.style)||void 0===i?void 0:i.zIndex,n=t.getBoundingClientRect(),o=document.createElement("div");o.id="ssm_container-button_close_fixed",o.classList.add("button_close_fixed-"+this.config.id),o.style.position="fixed",o.style.zIndex=s?s+1:999999,o.style.fontFamily="arial",o.style.fontSize="14px",o.style.lineHeight="20px",o.style.textAlign="center",o.style.background="#ffffff",o.style.color="rgb(119, 119, 119)",o.style.width="20px",o.style.height="20px",o.style.cursor="pointer",o.style.textShadow="rgb(255, 255, 255) 0px 1px 0px",o.innerHTML='<?xml version="1.0" encoding="iso-8859-1"?>\x3c!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><g><g><path d="M0,0v512h512V0H0zM327.115,365.904L256,294.789l-71.115,71.115l-38.789-38.789L217.211,256l-71.115-71.115l38.789-38.789 L256,217.211l71.115-71.115l38.789,38.789L294.789,256l71.115,71.115L327.115,365.904z"/></g></g></svg>',"white"===this.smartTag.config.icon_close&&(o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"> <g id="Grupo_428" data-name="Grupo 428" transform="translate(-5791 856)"> <rect id="Rectángulo_630" data-name="Rectángulo 630" width="20" height="20" transform="translate(5791 -856)" fill="#fff"/> <g id="Grupo_425" data-name="Grupo 425" transform="translate(5791.452 -846.452) rotate(-45)"> <rect id="Rectángulo_312" data-name="Rectángulo 312" width="4.726" height="1.451" transform="translate(8.777 6.026)" fill="#242424"/> <rect id="Rectángulo_313" data-name="Rectángulo 313" width="4.726" height="1.451" transform="translate(0 6.026)" fill="#242424"/> <rect id="Rectángulo_314" data-name="Rectángulo 314" width="1.451" height="4.726" transform="translate(6.026 8.777)" fill="#242424"/> <rect id="Rectángulo_315" data-name="Rectángulo 315" width="1.451" height="4.726" transform="translate(6.026 0)" fill="#242424"/> </g> </g></svg>'),n.left+n.width>=document.documentElement.clientWidth?o.style.left=document.documentElement.clientWidth-20+"px":o.style.left=n.left+n.width-6+"px",Object(_Helpers__WEBPACK_IMPORTED_MODULE_2__.n)([301,404,412,413,414,415,455,460],this.smartTag.config.configId)&&(o.style.zIndex=3,n.left+n.width<=document.documentElement.clientWidth&&(o.style.left=n.left+n.width-20+"px")),parseInt(o.style.left)>document.documentElement.clientWidth-20&&(o.style.left=document.documentElement.clientWidth-50+"px"),o.style.bottom="0px";let r=getComputedStyle(t);s&&(t.style.zIndex=s+1),t.style.bottom&&(o.style.bottom=parseInt(r.bottom)+parseInt(n.height)+"px"),t.style.top&&(o.style.bottom="initial",o.style.top=parseInt(r.top)+parseInt(n.height)-20+"px"),o.addEventListener("click",()=>{t.dispatchEvent(new CustomEvent("destroy"))}),document.body.appendChild(o)})),this.config.show_label&&t.addEventListener("render",e=>{let i=document.querySelector("#"+t.id+" div");if(!i)return;let s=!1;i.children.length&&i.childNodes.forEach(e=>{"SPAN"===e.nodeName&&e.classList.contains("labelAd")&&(s=!0)}),s||(i.prepend(this.generateLabel()),i.style.display="flex",i.style.flexDirection="column",i.style.alignItems="center")}),this.config.inside?("replace"===this.config.location&&(e.innerHTML="",e.appendChild(t)),"before"===this.config.location&&e.insertBefore(t,e.childNodes[0]),"after"===this.config.location&&e.appendChild(t)):("replace"===this.config.location&&e.parentNode.replaceChild(t,e),"before"===this.config.location&&e.parentNode.insertBefore(t,e),"after"===this.config.location&&e.parentNode.insertBefore(t,e.nextSibling)),t}createSsmInterstitialContainer(){const e=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);let t="ssmInterClose"+this.config.id,i=window.top.document.createElement("ins");i.id="gpt_unit__"+this.config.adcode,i.setAttribute("aU-id",this.config.id),i.setAttribute("data-google-query-id",e),i.setAttribute("aria-hidden","false"),i.setAttribute("data-vignette-loaded","true"),i.setAttribute("tabindex","0"),i.style.position="fixed",i.style.backgroundColor="rgba(52, 58, 65, 0.6)",i.style.backdropFilter="blur(5px)",i.style.zIndex=this.getMaxZIndex()+10,i.style.width="100%",i.style.height="100%",i.style.display="none",i.style.alignItems="center",i.style.textDecoration="none",i.style.top="0px",i.style.left="0px",i.innerHTML=`\n            <div id="ad_position_box${this.config.id}" style="position: relative;height: 100%;margin:0px;padding:0px;width:100%">\n                <div class="toprow" style="display:flex;align-items:center;height:60px;text-align:center;color:white;width: 100%;font-family: 'Roboto', arial, sans-serif;font-size: 18px;background-color: #424242;padding-left: 0.5em;padding-right: 0.5em;">\n                <div id="${t}" style="opacity:0.95;position:absolute;right:6px;top:17px;width:24px;height:24px;"><div><svg viewBox="0 0 48 48" fill="#FFF"><path d="M38 12.83L35.17 10 24 21.17 12.83 10 10 12.83 21.17 24 10 35.17 12.83 38 24 26.83 35.17 38 38 35.17 26.83 24z"></path><path d="M0 0h48v48H0z" fill="none"></path></svg></div></div>\n                <p style="margin:auto">${navigator.language.startsWith("es")?"Anuncio":"Advertising"}</p>\n                </div>\n                <div style="display: flex;align-items: center;text-align: center;width:100%;height:100%;padding-bottom:60px;justify-content: center;">\n                    <div id="ssmInterstitial${this.config.id}" style="margin:auto;text-align: center;"><div></div></div>\n                </div>\n            </div>\n            `,window.document.body.appendChild(i);const s=document.getElementById("ssmInterstitial"+this.config.id);return s.addEventListener("render",e=>{this.smartTag.log("Render ssmInterstitial "+this.config.id);const t=document.referrer;let i=this.config.ssmInterstitial.time_to_show;["facebook.com","twitter.com","instagram.com","linkedin.com","pinterest.com","tiktok.com"].some(e=>t.includes(e))&&(i=this.config.ssmInterstitial.time_to_show_social),setTimeout(()=>{const e=window.top.document.getElementById("gpt_unit__"+this.config.adcode);e&&(e.style.display="flex",e.style.zIndex=this.getMaxZIndex()+10,s.style.display="block",this.updateInterstitialLocalStorage())},1e3*i)}),document.getElementById(t).onclick=()=>{s.dispatchEvent(new CustomEvent("destroy")),i&&i.remove()},s}getMaxZIndex(){let e=0;return document.querySelectorAll("body *").forEach(t=>{const i=window.getComputedStyle(t).zIndex;isNaN(i)||"auto"===i||(e=Math.max(e,parseInt(i)))}),e}runCustom(){if(this.config.outstream||this.config.withNative)return;const e=document.createDocumentFragment(),t=document.createElement("div");t.innerHTML=this.config.adcode,e.appendChild(t),e.querySelectorAll("div *:not(script)").forEach(e=>this.el.appendChild(e));const i=Array.from(e.querySelectorAll("div script[src]")).map(async e=>new Promise(t=>{const i=document.createElement("script");i.async=e.async,i.defer=e.defer,i.src=e.src,e.id&&(i.id=e.id),i.onload=function(){t()},this.el.appendChild(i)}));Promise.all(i).then(()=>{e.querySelectorAll("div script:not([src])").forEach(e=>{const t=document.createElement("script");e.async&&(t.async=e.async),e.defer&&(t.defer=e.defer),e.id&&(t.id=e.id),t.innerHTML=e.innerHTML,this.el.appendChild(t)})}),this.config.timeout&&setTimeout(()=>{const{height:e}=this.el.getBoundingClientRect();e<30&&(this.smartTag.log(`adUnit '${this.config.name} (${this.config.id})' timed out (height < 30)`),this.smartTag.slots.findAndRunfallbackFor(this.config))},this.config.timeout)}waitForLoad(){return"always"!==this.config.load&&window.IntersectionObserver?this.loaded?Promise.resolve():new Promise((e,t)=>{this.el.dataset.async=!0,this.async=!0;new IntersectionObserver((t,i)=>{t&&t.length&&t[0].isIntersecting&&(this.el.dataset.loaded=!0,this.loaded=!0,i.disconnect(),e())},{root:this.el.closest(".ads-context"),rootMargin:window.innerWidth<600?"60%":"100px"}).observe(this.el)}):(this.loaded=!0,Promise.resolve())}waitForTarget(e){return"always"!==this.config.load&&window.IntersectionObserver?this.loaded?Promise.resolve():new Promise((t,i)=>{let s;this.async=!0,s=e.indexOf("js:")>-1?Object(_Helpers__WEBPACK_IMPORTED_MODULE_2__.k)(e.replace("js:","")):document.querySelector(e),s&&t(s),new MutationObserver((i,s)=>{this.smartTag.observers[this.config.id]=s;let n=e.indexOf("js:")>-1?Object(_Helpers__WEBPACK_IMPORTED_MODULE_2__.k)(e.replace("js:","")):document.querySelector(e);if(n){s.disconnect();const e=n.querySelector('div[id^="ssm_container"]');if(!1===ssmSmartTag.resizing&&!e&&!n.querySelector('div[id^="ssmInterstitial"]')){this.el=this.config.ssmInterstitial?this.createSsmInterstitialContainer():this.createAdUnitContainer(n),this.smartTag.log(`adUnit '${this.config.name} (${this.config.id})' injected`,this.el);const e=new _SlotManager__WEBPACK_IMPORTED_MODULE_1__.a(this.smartTag);e.slots.push(this),this.smartTag.runSlots(e),t()}}}).observe(document.documentElement,{childList:!0,subtree:!0})}):(this.loaded=!0,Promise.resolve())}waitOnScroll(e,t){return this.loaded?Promise.resolve():new Promise((e,i)=>{this.el.dataset.async=!0,this.async=!0;const s=()=>{window.scrollY>t&&!this.loaded&&(this.el.dataset.loaded=!0,this.loaded=!0,window.removeEventListener("scroll",s),this.config.ssmInterstitial||this.controlScroll(this.el,t,this.config.sticky),e())};window.addEventListener("scroll",s,{passive:!0})})}controlScroll(e,t,i){let s=!1;window.addEventListener("scroll",()=>{i&&(s=document.getElementById("ssm_container-button_close_fixed")),window.scrollY>t?(e.style.display="block",s&&(s.style.display="block")):(e.style.display="none",s&&(s.style.display="none"))},{passive:!0})}generateLabel(){let e=navigator.language,t="Advertisement";-1!==e.indexOf("de")&&(t="Werbung"),-1!==e.indexOf("es")&&(t="Anuncios");let i=document.createElement("span");i.className="labelAd",i.style.fontSize="8.5px",i.style.color="#808080",i.style.letterSpacing="0.2px",i.style.lineHeight="initial";let s=document.createTextNode(t);return i.appendChild(s),i}getMinTopFromStyle(){let e=this.config.styles,t=50;return e?(e=e.split(";"),e=e.filter(e=>-1!==e.indexOf("top")),e.length&&(e=e[0].split(":"),e.length&&(t=parseInt(e[1].replace("px","")))),(!t||t<=0)&&(t=50),t):t}updateInterstitialLocalStorage(){let e=localStorage.getItem("ssmI"),t={};if(e)try{t=JSON.parse(e)}catch(e){this.smartTag.log("Error parsing ssmI from localStorage:",e)}t[this.config.id]?(t[this.config.id].lastShow=Date.now(),t[this.config.id].visits=(t[this.config.id].visits||0)+1):t[this.config.id]={lastShow:Date.now(),visits:1};try{localStorage.setItem("ssmI",JSON.stringify(t))}catch(e){this.smartTag.log("Error saving ssmI to localStorage:",e)}}checkInterstitialFreq(){let e=this.config.ssmInterstitial;const t=document.referrer;let i=e.frequency||0;["facebook.com","twitter.com","instagram.com","linkedin.com","pinterest.com","tiktok.com"].some(e=>t.includes(e))&&(i=e.frequency_social||i);let s=localStorage.getItem("ssmI");if(!s)return!0;try{if(s=JSON.parse(s),!s[this.config.id]||!s[this.config.id].lastShow)return!0;const e=Date.now(),t=s[this.config.id].lastShow;return(e-t)/6e4>i}catch(e){return console.error("Error checking interstitial frequency:",e),!0}}}__webpack_exports__.a=AdUnit},function(e,t,i){"use strict";var s=i(0);t.a=new Promise(e=>{Object(s.g)()?e():document.addEventListener("DOMContentLoaded",e,{once:!0})})},function(e,t){function i(t){return e.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,i(t)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){"use strict";(function(e){var s=i(2),n=i(3),o=i(4),r=setTimeout;function a(e){return Boolean(e&&void 0!==e.length)}function d(){}function l(e){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,l._immediateFn((function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null!==i){var s;try{s=i(e._value)}catch(e){return void u(t.promise,e)}g(t.promise,s)}else(1===e._state?g:u)(t.promise,e._value)}))):e._deferreds.push(t)}function g(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof l)return e._state=3,e._value=t,void f(e);if("function"==typeof i)return void m((s=i,n=t,function(){s.apply(n,arguments)}),e)}e._state=1,e._value=t,f(e)}catch(t){u(e,t)}var s,n}function u(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&l._immediateFn((function(){e._handled||l._unhandledRejectionFn(e._value)}));for(var t=0,i=e._deferreds.length;t<i;t++)c(e,e._deferreds[t]);e._deferreds=null}function h(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function m(e,t){var i=!1;try{e((function(e){i||(i=!0,g(t,e))}),(function(e){i||(i=!0,u(t,e))}))}catch(e){if(i)return;i=!0,u(t,e)}}l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){var i=new this.constructor(d);return c(this,new h(e,t,i)),i},l.prototype.finally=s.a,l.all=function(e){return new l((function(t,i){if(!a(e))return i(new TypeError("Promise.all accepts an array"));var s=Array.prototype.slice.call(e);if(0===s.length)return t([]);var n=s.length;function o(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,(function(t){o(e,t)}),i)}s[e]=r,0==--n&&t(s)}catch(e){i(e)}}for(var r=0;r<s.length;r++)o(r,s[r])}))},l.any=o.a,l.allSettled=n.a,l.resolve=function(e){return e&&"object"==typeof e&&e.constructor===l?e:new l((function(t){t(e)}))},l.reject=function(e){return new l((function(t,i){i(e)}))},l.race=function(e){return new l((function(t,i){if(!a(e))return i(new TypeError("Promise.race accepts an array"));for(var s=0,n=e.length;s<n;s++)l.resolve(e[s]).then(t,i)}))},l._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){r(e,0)},l._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=l}).call(this,i(13).setImmediate)},function(e,t,i){e.exports=i(19)},function(e,t,i){"use strict";(function(e){var t=i(10),s=i(2),n=i(3),o=i(4),r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();"function"!=typeof r.Promise?r.Promise=t.a:(r.Promise.prototype.finally||(r.Promise.prototype.finally=s.a),r.Promise.allSettled||(r.Promise.allSettled=n.a),r.Promise.any||(r.Promise.any=o.a))}).call(this,i(6))},function(e,t,i){(function(e){var s=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(n.call(setTimeout,s,arguments),clearTimeout)},t.setInterval=function(){return new o(n.call(setInterval,s,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(s,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i(14),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(6))},function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var s,n,o,r,a,d=1,l={},c=!1,g=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?s=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},s=function(e){o.port2.postMessage(e)}):g&&"onreadystatechange"in g.createElement("script")?(n=g.documentElement,s=function(e){var t=g.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):s=function(e){setTimeout(h,0,e)}:(r="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&h(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),s=function(t){e.postMessage(r+t,"*")}),u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return l[d]=n,s(d),d++},u.clearImmediate=f}function f(e){delete l[e]}function h(e){if(c)setTimeout(h,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(void 0,i)}}(t)}finally{f(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(6),i(15))},function(e,t){var i,s,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{s="function"==typeof clearTimeout?clearTimeout:r}catch(e){s=r}}();var d,l=[],c=!1,g=-1;function u(){c&&d&&(c=!1,d.length?l=d.concat(l):g=-1,l.length&&f())}function f(){if(!c){var e=a(u);c=!0;for(var t=l.length;t;){for(d=l,l=[];++g<t;)d&&d[g].run();g=-1,t=l.length}d=null,c=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===r||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];l.push(new h(e,t)),1!==l.length||c||a(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,i){var s=i(9).default,n=i(17);e.exports=function(e){var t=n(e,"string");return"symbol"==s(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var s=i(9).default;e.exports=function(e,t){if("object"!=s(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(const i=0;i<this.length;i++)e.call(t,this[i],i,this)}),Array.from||(Array.from=function(){const e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},i=Math.pow(2,53)-1,s=function(e){const t=function(e){const t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),i)};return function(e){const i=this,n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");let o,r=arguments.length>1?arguments[1]:void 0;if(void 0!==r){if(!t(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}const a=s(n.length),d=t(i)?Object(new i(a)):new Array(a);let l,c=0;for(;c<a;)l=n[c],d[c]=r?void 0===o?r(l,c):r.call(o,l,c):l,c+=1;return d.length=a,d}}()),function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}e.prototype=window.Event.prototype,window.CustomEvent=e}(),Object.values||(Object.values=e=>Object.keys(e).map(t=>e[t]))},function(e,t,i){"use strict";i.r(t);i(12);var s=i(5),n=i.n(s);var o=new class{constructor(){this.isStorageAvailable=this.checkStorageAvailability();try{this.persistentData=this.isStorageAvailable?JSON.parse(localStorage.ssm):{}}catch(e){this.persistentData={}}try{this.sessionData=this.isStorageAvailable?JSON.parse(sessionStorage.ssm):{}}catch(e){this.sessionData={}}}checkStorageAvailability(){try{return"undefined"!=typeof Storage&&(localStorage.setItem("test","test"),localStorage.removeItem("test"),!0)}catch(e){return!1}}get(e,t){return this.sessionData.hasOwnProperty(e)?this.sessionData[e]:this.persistentData.hasOwnProperty(e)?this.persistentData[e]:t}setPersistent(e,t){this.persistentData[e]=t,this.isStorageAvailable&&(localStorage.ssm=JSON.stringify(this.persistentData))}setSession(e,t){this.sessionData[e]=t,this.isStorageAvailable&&(sessionStorage.ssm=JSON.stringify(this.sessionData))}},r=i(0);function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){n()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var l=class{constructor(e){this.smartTag=e,this.existingAdSlots={},this.refreshCount=[]}async ssmEventsGoogleTag(){Object(r.n)([301,404,412,413,414,415,455,460],this.smartTag.config.configId)&&this.customRefreshGT(),window.googletag.cmd.push(()=>{this.smartTag.config.thread_yield&&googletag.setConfig({threadYield:this.smartTag.config.thread_yield}),this.smartTag.config.enable_single_request&&window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().setCentering(!0),this.smartTag.config.collapse_empty_divs&&window.googletag.pubads().collapseEmptyDivs(!0,!0),this.smartTag.config.debug&&googletag.pubads().addEventListener("slotRequested",(function(e){var t=e.slot;console.log("%cSSM.CODES","font-size:10px;color:white;background:#61ade9;padding:2px 4px 2px 4px;border-radius:4px;box-shadow:0px 1px 3px gray;","Slot",e.slot.__adUnit?e.slot.__adUnit.config.name+"("+e.slot.__adUnit.config.id+")":"",t.getSlotElementId(),"has been requested.")})),window.googletag.pubads().addEventListener("slotRenderEnded",e=>{try{this.runSlotRenderEnded(e)}catch(e){this.smartTag.log("[DFP][slotRenderEnded] Error",e)}})})}runSlotRenderEnded(e){let t,i=e.slot;if(this.smartTag.config.debug){var s="🟢";if(e.isEmpty&&(s="🔴"),console.groupCollapsed("%cSSM.CODES","font-size:10px;color:white;background:#61ade9;padding:2px 4px 2px 4px;border-radius:4px;box-shadow:0px 1px 3px gray;","[DELIVERY] "+s+" Slot",e.slot.__adUnit?e.slot.__adUnit.config.name+"("+e.slot.__adUnit.config.id+")":"","| #id:",i.getSlotElementId(),"| adUnitPath:",i.getAdUnitPath(),"finished rendering."),e.slot.__adUnit&&e.slot.__adUnit.config.ssmop){console.log("SSM Optimization:",!0),console.log("SSM Optimization Original CPM:",e.slot.__adUnit.config.ssmopOrginalCPM),console.log("SSM Optimization Optimized CPM:",e.slot.__adUnit.config.ssmopOptimizedCPM);let t=0;e.slot.__adUnit.config.ssmopOrginalCPM>0&&(t=100*(e.slot.__adUnit.config.ssmopOptimizedCPM-e.slot.__adUnit.config.ssmopOrginalCPM)/e.slot.__adUnit.config.ssmopOrginalCPM),console.log("SSM Optimization Range CPM:",parseFloat(e.slot.__adUnit.config.ssmopOptimizedCPM-e.slot.__adUnit.config.ssmopOrginalCPM).toFixed(2),parseFloat(t).toFixed(2)+"%")}console.log("Is empty?:",s,e.isEmpty),console.log("Advertiser ID:",e.advertiserId),console.log("Campaign ID:",e.campaignId),console.log("Company IDs:",e.companyIds),console.log("Creative ID:",e.creativeId),console.log("Creative Template ID:",e.creativeTemplateId),console.log("Is backfill?:",e.isBackfill),console.log("Label IDs:",e.labelIds),console.log("Line Item ID:",e.lineItemId),console.log("Size:",e.size),console.log("Slot content changed?",e.slotContentChanged),console.log("Source Agnostic Creative ID:",e.sourceAgnosticCreativeId),console.log("Source Agnostic Line Item ID:",e.sourceAgnosticLineItemId),console.log("Yield Group IDs:",e.yieldGroupIds),console.log("Slot Targeting:",this.getSlotTargetingObject(e.slot)),console.groupEnd()}if(!e.isEmpty&&(this.smartTag.config.genericRefreshRule||this.smartTag.config.refreshRules))try{this.setUpRefreshRules(e)}catch(e){console.error("Error in refresh rules",e)}if(this.smartTag.withDFPHB&&!e.slot.__adUnit&&56===this.smartTag.config.configId){let t=!1;Object.keys(e.slot.getTargetingMap()).forEach(i=>{(i.indexOf("hb_")>-1||i.indexOf("amz")>-1)&&(e.slot.clearTargeting(i),t=!0)}),t&&this.smartTag.log("Clear targetings",e.slot.getSlotElementId())}if(!e.slot||!e.slot.__adUnit)return;if(t=e.slot.__adUnit&&e.slot.__adUnit.el&&e.slot.__adUnit.el instanceof HTMLElement?e.slot.__adUnit.el:this.getValidSlotContainer(e.slot.getSlotId().getDomId()),e.isEmpty){let i=ssmStore.get("countEmpty",0);i+=1,ssmStore.setSession("countEmpty",i),this.smartTag.log("countEmpty",i,e.slot.__adUnit?e.slot.__adUnit.config.id:""),t&&t.setAttribute("data-isempty",!0)}if(e.isEmpty&&e.slot.__adUnit.config.attempts_on_empty&&(void 0===this.refreshCount[e.slot.__adUnit.config.id]&&(this.refreshCount[e.slot.__adUnit.config.id]=0),this.refreshCount[e.slot.__adUnit.config.id]<e.slot.__adUnit.config.attempts_on_empty))return void setTimeout(()=>{googletag.cmd.push(()=>{this.refreshCount[e.slot.__adUnit.config.id]++,googletag.pubads().refresh([e.slot]),ssmSmartTag.log("EventEmpty. Refresh attemp",this.refreshCount[e.slot.__adUnit.config.id],e.slot.__adUnit.config.id)})},250);let n=e.isEmpty;if(e.slot.__adUnit.config.ssmop){if(e.isEmpty)return this.removeTargetingKey(e.slot,"ssmasHb"),e.slot.__adUnit.config.ssmop=!1,googletag.pubads().refresh([e.slot]),void this.smartTag.log("Optimization Refreshing ",e.slot.__adUnit.config.name," not optimization opportunities.");this.smartTag.log("Optimization OK for ",e.slot.__adUnit.config.name)}else e.isEmpty&&!e.slot.__adUnit.config.no_fallback_empty_render&&(!1===this.renderFallbackHbBidsV2(e.slot)?(e.slot.renderend=!0,this.smartTag.slots.findAndRunfallbackFor(e.slot.__adUnit)):n=!1);n&&(this.smartTag.clearAdunitContainer(e.slot.__adUnit.config.id),e.slot.__adUnit.config.sticky&&t.setAttribute("style","display:none;")),e.slot.__adUnit.config.script_after_render&&Object(r.k)(e.slot.__adUnit.config.script_after_render,"",!1),t&&!e.isEmpty&&(e.slot.__adUnit.config.styles&&t.setAttribute("style",e.slot.__adUnit.config.styles),t.dispatchEvent(new CustomEvent("render",{detail:{event:e}})),e.slot.renderend=!0,this.smartTag.prebid&&this.useBids(e,t))}getSlotTargetingObject(e){var t=e.getTargetingKeys(),i={};return t.forEach(t=>{var s=e.getTargeting(t);i[t]=s}),i}getAmazonCpm(e){return{"9gmps":14.5,fiuark:13.5,yy1vk0:13,"549iww":12.5,ojh3pc:12,spb0g0:11,"3qbk00":10.5,igyzgg:10,wceolc:9,"8rd728":8.5,"13a4j5s":7.95,s6kruo:7.8,"1edoagw":7.75,"1sy2z28":7.65,kjvxts:7.6,"1huj7r4":7.45,"1carc3k":7.35,"3wkav4":7.3,q3nthc:7.2,"1neb3eo":7.05,"6og8ow":6.9,"1q6718g":6.85,"13z3im8":6.75,c884cg:6.7,"19ive9s":6.55,"1vpyww0":6.45,nbrvnk:6.4,ge2134:6.3,"1dopb0g":6.15,"5ai9s0":6.1,lxtwqo:6,aua5fk:5.9,"1j8h6o0":5.85,x1do1s:5.8,"1awtd6o":5.75,"1x3wvsw":5.65,oppukg:5.6,zt9lvk:5.55,"1m0d4hs":5.45,u9hq80:5.4,"82e7ls":5.3,"1rk505c":5.25,"15d1hj4":5.15,bvqmm8:5.1,"1k9xnuo":5.05,llcf0g:2.8,"1go2xvk":2.79,"1yfcydc":2.77,ywsxds:2.76,"17sfxmo":2.75,"89vwn4":2.74,q15x4w:2.72,"1a0coow":2.71,ahsnpc:2.7,s92o74:2.68,"1m5ngg":2.66,"1ivzoxs":2.65,jdfny8:2.64,"1eg66tc":2.63,"1w7g7b4":2.61,"61z5kw":2.58,"1nbt728":2.57,nt962o:2.56,"1b9auww":2.55,"1t0kveo":2.53,ti0uf4:2.52,"12dnuo0":2.51,"2v3tog":2.5,kmdu68:2.48,"1fp4d1c":2.47,g6kc1s:2.46,"1xgedj4":2.45,"7axbsw":2.42,"1okrda8":2.41,p27cao:2.4,"191e3uo":2.39,"9iu2v4":2.38,ra43cw:2.36,"105r3ls":2.35,n72m8:2.34,ieh340:2.32,"1dh7lz4":2.31,"1v8hmgw":2.29,vpxlhc:2.28,"530kqo":2.26,"1mcum80":2.25,mual8g:2.24,"1cd98g0":2.23,"1u4j8xs":2.21,ulz7y8:2.2,"13hm874":2.19,"3z277k":2.18,"1l8w8ow":2.17,lqc7pc:2.16,haipkw:2.14,"1ykcr28":2.13,z1sq2o:2.12,"17xfqbk":2.11,"8evpc0":2.1,q65pts:2.08,"1a5chds":2.07,amsge8:2.06,se2gw0:2.04,"119ph4w":2.03,"1j0zhmo":2.01,jifgn4:2,"1el5zi8":1.99,f2lyio:1.98,"1wcg000":1.97,"1d780lc":.39,"1uyi134":.37,vfy03k:.36,"14bl0cg":.35,"4t0zcw":.34,mkazuo:.32,"1c39n28":.31,ckpm2o:.3,"1tujnk0":.29,"137mmtc":.27,"3p2lts":.26,"1kywnb4":.25,lgcmbk:.24,h0j474:.22,"1yad5og":.21,yrt4ow:.2,"84w3y8":.18,"1peq5fk":.17,"19vcw00":.15,"1rmmwhs":.13,s42vi8:.12,"1iqzw8w":.09,j8fv9c:.08,esmd4w:.06,"1w2gem8":.05,"15fjdvk":.03,"1n6tedc":.01,"1uoifpc":1.65,u2016o:1.56,w9ws8w:1.32,"1xqdyww":1.17,"5d064g":.98,"1afc2rk":.79,"1sqla0w":.61,"1juy9s0":.57,i4hhq8:.4,"17ng4xs":.19,pw64g0:.16,acsv0g:.14,"10zpvr4":.11,"1eb6e4g":.07,wjwdmo:.04,"5wzcw0":.02,qvr6dc:35,vqk2kg:33,new934:32,ucm3nk:31,k4a2o0:30,oz2yv4:28,rqywow:27,i1d4ao:26,n8ni80:24,thedc0:23,l5qjuo:22,xn8a2o:21,cegv7k:19.5,rnuj9c:19,jc6ps0:18,h99reo:17.5,v4pgjk:17,abjwu8:15.5,us7ytc:15,wtvz0g:1.96,"66yy9s":1.94,"1ngszr4":1.93,"1apbo5c":1.91,b6rn5s:1.9,"1sglon4":1.89,"11tonwg":1.87,"2b4mww":1.86,"1jkyoe8":1.85,k2eneo:1.84,"1f5569s":1.83,"1wwf6rk":1.81,xdv5s0:1.8,"169i60w":1.79,"1o0s6io":1.77,oi85j4:1.76,"18hex34":1.75,"8yuw3k":1.74,qq4wlc:1.72,zlrwu8:1.71,"37vuo":1.7,"1hd1xc0":1.69,"1cx8f7k":1.67,deoe80:1.66,v5yeps:1.64,"141leyo":1.63,"1lsvfgg":1.61,mabegw:1.6,"1bta1og":1.59,caq0ow:1.58,"1tkk268":1.57,"12xn1fk":1.55,"1kox1xc":1.53,l6d0xs:1.52,"1g93jsw":1.51,gqjitc:1.5,yhtjb4:1.48,"17dgjk0":1.47,"7uwikg":1.46,"1p4qk1s":1.45,pm6j28:1.44,a2t9mo:1.42,"1rcnb40":1.41,ru3a4g:1.4,"10pqadc":1.39,"1ih0av4":1.37,"1os92bk":6.25,"184xfcw":5.95,"2imby8":5.7,dm639c:5.5,j5xyww:5.2,y2u58g:5,"13mm0w0":4.75,"6byqyo":4.5,"93uosg":4.3,pr6br4:4,"7pwpvk":3.7,"1lnvmrk":3.45,od8cu8:3.2,"100raww":2.99,"1dc7ta8":2.95,"4y0s1s":2.9,"1tzjg8w":2.85,"1l3wg00":2.81,h5iww0:2.78,"1pjpy4g":2.73,"114pog0":2.67,exm5ts:2.62,wow6bk:2.6,bqqtxc:2.54,"1k4xv5s":2.49,"16thcsg":2.43,"1qso4cg":2.37,"1hx143k":2.33,"14lklq8":2.27,cup7gg:2.22,"1gt2qkg":2.15,"1popqtc":2.09,"1r5g5c":2.02,"15piz9c":1.95,sy1nnk:1.88,fml5a8:1.82,"6qy51c":1.78,"1q8oxkw":1.73,huhwcg:1.68,"4j1dz4":1.62,"3f30g0":1.54,"1y0dkao":1.49,"19ldam8":1.43,"5zh98g":7.7,"1yhuups":7.25,"1f2n9xc":6.95,hs0000:6.8,"12l5jpc":6.35,"1uc0xz4":6.05,mmsw74:8,"16qzgg0":7.55,f04268:7.1,"14od1c":6.5,"1ph81s0":7.85,vnfp4w:7.4,"1kmf5kw":6.65,rhlse8:6.2,jy1bsw:34,zdnqps:29,wy9am8:25,q9wkcg:20,"7jnz0g":16.5,l2m6f4:14,c1zdhc:11.5,fp31mo:9.5,h310jk:7.9,"9gc6io":7.5,"1177ksg":7.15,svjrb4:7,yfbmyo:6.6,"196dwjk":4.95,s6vb4:4.9,"1vdhf5s":4.85,mzadxc:4.8,hfii9s:4.7,"1ptpji8":4.65,sj29kw:4.6,"1eq5s74":4.55,"1sllhc0":4.45,k7eg3k:4.4,"16ehyps":4.35,"1hi1q0w":4.25,vay7eo:4.2,"1by9udc":4.15,"3k2t4w":4.1,"10uq328":3.95,"1n1tlog":3.85,tx08hs:3.8,"1g43r40":3.75,"1r7nif4":3.65,itgh6o:3.6,"150jzsw":3.55,d9olj4:3.5,zgs45c:3.4,"1akbvgg":3.35,"264u80":3.3,"1wrfe2o":3.25,"128o1z4":3.15,"1ofrklc":3.05,r54ao0:3,i79xc:2.98,"1hs1beo":2.97,i9haf4:2.96,dtnsao:2.94,"1v3hts0":2.93,"14gkt1c":2.91,"1m7utj4":2.89,mpasjk:2.88,"1c89fr4":2.87,cpperk:2.86,ugzf9c:2.84,"13cmfi8":2.83,"3u2eio":2.82,iyg9vk:1.36,"1e16sqo":1.35,eimrr4:1.34,"155jshs":1.31,"5mzri8":1.3,"1mwtszk":1.29,ne9s00:1.28,c0qfb4:1.26,"1takgsg":1.25,ts0fsw:1.24,"12nng1s":1.23,"1kexgjk":1.21,kwdfk0:1.2,"1fz3yf4":1.19,y7txxc:1.16,"173gy68":1.15,"7kwx6o":1.14,pc6xog:1.12,"19bdp8g":1.11,"9sto8w":1.1,"1r2npq8":1.09,"10fqozk":1.07,x6o00:1.06,"1i70phc":1.05,iogohs:1.04,e8n6dc:1.02,"1vih7uo":1.01,vzx6v4:1,"14vk740":.99,"1mmu7ls":.97,n4a6m8:.96,d4osu8:.94,"1ueiubk":.93,uvytc0:.92,"13rltkw":.91,"1livu2o":.89,m0bt34:.88,"1h32by8":.87,hkiayo:.86,zbsbgg:.84,"187fbpc":.83,"8ovaps":.82,"1pypc74":.81,qg5b7k:.8,aws1s0:.78,so229s:.76,"11jp2io":.75,"2151j4":.74,"1jaz30g":.73,"1ev5kw0":.71,fcljwg:.7,"1wmflds":.69,x3vke8:.68,"15zikn4":.67,"1nqsl4w":.65,o88k5c:.64,"1azb9j4":.63,bgr8jk:.62,t8191c:.6,"123o9a8":.59,kce8sg:.56,"1ff4rnk":.55,fwkqo0:.54,xnur5s:.52,"16jhreo":.51,"70xqf4":.5,"1oarrwg":.49,"18reigw":.47,"98uhhc":.46,"1qioiyo":.45,zvri80:.43,d7h8g:.42,"1hn1ips":.41,"2ov2tc":18.5,o6zlz4:16,"1ggl8u8":5.35,"1y5dczk":4.05,enmkg0:3.9,g1kjcw:3.1,vkxssg:2.92,"1rrmp6o":2.69,"15kj6kg":2.59,xxucjk:2.44,dynkzk:2.3,"1rwmhvk":2.05,ny8yrk:1.92,"1769ds":1.38,"1vsgt8g":1.33,"1bjagao":1.27,"353f28":1.22,ggjxfk:1.18,"1ouqyo0":1.13,rk3oqo:1.08,"1dr77cw":1.03,"1cn8tts":.95,"491slc":.9,"1yuccg0":.85,"1s6m39c":.77,jsf20w:.72,"6gyjnk":.66,"2l48ao":.58,"1x6es5c":.53,os7qww:.48,r04hz4:.44,donzls:.38,"1m2v0u8":.33,ubzmkg:.28,"1gj356o":.23,"1h5urk":.1}[e]||0}checkBidIfWasRendered(e,t){const i=sessionStorage.getItem("ssmRenderedIds");return!i||!i.split(";").includes(e)||(this.smartTag.log("Bid ",e," was rendered in other request",t),!1)}renderFallbackHbBidsV2(e){const t=this.smartTag.config.postBidEnableNetworks||[78011819,21789833810];if(!this.smartTag.prebid||this.smartTag.config.disable_post_bid||e.__adUnit.config.postbid_disable||!t.some(t=>e.getAdUnitPath().includes(t)))return!1;const i=e.getSlotElementId(),s=this.getValidSlotContainer(i);window.apstag&&window.apstag.setDisplayBids();const n=pbjs.getAdserverTargetingForAdUnitCode(e.getAdUnitPath());let o=[];if(e.getTargetingKeys().includes("amzniid")){const t=e.getTargeting("amzniid")[0]||0,i=this.getAmazonCpm(e.getTargeting("amznbid")[0]);i>0&&this.checkBidIfWasRendered(t,e.__adUnit.config.id)&&o.push({hb_adid:t,hb_pb:i,hb_bidder:"amazon",amznbid:i,amzniid:t,amznsz:e.getTargeting("amznsz")[0]})}if(Object.keys(n).length>0)for(const t in n)if(t.startsWith("hb_bidder_")){const i=this.validParamsFromTargeting(n,t),s=i.hb_adid,r=i.hb_bidder,a=parseFloat(i.hb_pb),{isExternalAccount:d,ssmCreativeId:l}=this.isExternalAccount(e,s,r);a>0&&(!this.smartTag.config.noRenderExternal||!d)&&this.checkBidIfWasRendered(s,e.__adUnit.config.id)&&o.push({hb_adid:s,hb_pb:a,hb_bidder:r,externalAccount:d,ssmCreativeId:l})}if(!o.length)return this.smartTag.log("🔀 [PREBID][Fallback] V2 No Bids Array ",e.__adUnit.config.name,e.__adUnit.config.id),!1;o.sort((function(e,t){return t.hb_pb-e.hb_pb}));const r=JSON.parse(JSON.stringify(o));this.smartTag.log("🔀 [PREBID][Fallback] V2 Bids Array ",e.__adUnit.config.name,e.__adUnit.config.id,r);const a=""+Date.now(),d=o.shift(),l=this.renderHbId(e,d,a,!0);if(o.length){const t=setInterval(()=>{o.length?s&&(this.isElementInViewport(s)||e.__adUnit.config.sticky)&&(this.renderHbId(e,o[0],a,!1),o.shift()):clearInterval(t)},1e3*(this.smartTag.config.post_bid_render||12))}return l}validParamsFromTargeting(e,t){const i=t.split("_").slice(2).join("_");return Object.keys(e).filter(e=>e.startsWith("hb_")&&e.includes("_"+i)).reduce((t,i)=>(t[i.split("_").slice(0,2).join("_")]=e[i],t),{})}removeNonSafeFrameStickys(){document.querySelectorAll("div#ogy-ad-slot.ogy_ad_slot_element--sticky").forEach(e=>{e.remove()}),document.querySelectorAll("div.st-adunit.inScreen").forEach(e=>{e.remove()}),document.querySelectorAll("div#ogy-ad-slot.ogy_ad_slot_element--sticky").forEach(e=>{e.remove()}),document.querySelectorAll("div.st-adunit.inScreen").forEach(e=>{e.remove()}),document.querySelectorAll("div#ogy-ad-slot.ogy_ad_slot_element--sticky").forEach(e=>{e.remove()}),document.querySelectorAll("div.st-adunit.inScreen").forEach(e=>{e.remove()})}renderHbId(e,t,i,s){const n=e.getSlotElementId(),o=this.getValidSlotContainer(n);if(!o)return!1;o.querySelectorAll('div[id*="fallback-div"]').forEach(e=>{setTimeout(()=>{e.style.display="none"},500),e.style.opacity=0}),s&&e.__adUnit.config.sticky&&this.removeNonSafeFrameStickys();const r=document.createElement("div"),a="fallback-"+t.hb_adid;r.id="fallback-div-"+t.hb_adid,r.style.width="100%",r.style.height="100%",r.style.visibility="0",r.style.transition="opacity 0.5s ease",o.querySelector("div")&&(o.querySelector("div").style.display="none"),r.style.display="none",r.style.alignItems="center",e.__adUnit.config.postbid_styles&&r.setAttribute("style",e.__adUnit.config.postbid_styles),r.innerHTML='<iframe id="'+a+'" sandbox="allow-forms allow-modals allow-popups allow-scripts allow-same-origin" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" WIDTH="100%" HEIGHT="100%"></iframe>',o.appendChild(r),setTimeout(()=>{e.__adUnit.config.styles&&o.setAttribute("style",e.__adUnit.config.styles),r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.style.opacity=1,e.__adUnit.config.postbid_styles&&r.setAttribute("style",e.__adUnit.config.postbid_styles),s&&o.dispatchEvent(new CustomEvent("render",{detail:{}}))},500);const d=document.querySelector("#"+a).contentWindow.document;try{var l;if("amazon"===t.hb_bidder){const i={params:{amznbid:t.amznbid,amzniid:t.amzniid,amznsz:t.size},url:window.top.location.href,bidType:"openAuction",cv:"v2.0.0"};window.apstag.renderImp(d,t.hb_adid,i),this.smartTag.log("🔀 [PREBID][Fallback] 🟢🟢 Amazon Render!!!!",t.hb_adid,t.hb_pb,e.getAdUnitPath(),e.__adUnit.config.id)}else pbjs.renderAd(d,t.hb_adid),this.smartTag.log("🔀 [PREBID][Fallback] 🟢🟢 HB Render!!!!",t,t.hb_adid,t.hb_bidder,t.hb_pb,e.getAdUnitPath(),e.__adUnit.config.id);const s=sessionStorage.getItem("ssmSessionId")||"",n=localStorage.getItem("ssmFP1")||"",o=window.innerWidth<=(null!==(l=this.smartTag.config.screen_width)&&void 0!==l?l:800);try{this.addIdToSsmRenderedIds(t.hb_adid);const r=JSON.stringify({prebidRenders:{hb_pb:parseFloat(t.hb_pb),hb_bidder:t.hb_bidder,hb_adId:t.hb_adid,domain:this.smartTag.config.post_bid_domain||this.getCleanDomain(window.location.host),url:window.location.href,ssmFP1:n,sessionId:s,deviceCategory:o?"Smartphone":"Desktop",externalAccount:t.externalAccount,adUnit:e.getAdUnitPath(),requestId:i}});fetch("https://analytics.ssmas.com",{method:"POST",headers:{"Content-Type":"application/json",charset:"UTF-8"},body:r,mode:"no-cors"}),this.smartTag.log("🔀 [PREBID][Fallback] HB Render sent to metrics")}catch(e){this.smartTag.log("🔀 [PREBID][Fallback][ERROR] HB Render NO SENT to metrics")}return!0}catch(e){return this.smartTag.log("🔀 [PREBID][Fallback] error rendering ad HB ",e),!1}}addIdToSsmRenderedIds(e){this.smartTag.log("Save in sessionStorage redered ID",e);const t=sessionStorage.getItem("ssmRenderedIds")?sessionStorage.getItem("ssmRenderedIds")+";"+e:e;return sessionStorage.setItem("ssmRenderedIds",t),t}getCleanDomain(e){e.startsWith("www.")&&(e=e.substring(4));const t=e.split(".");return t.length>2?t.slice(-2).join("."):e}isElementInViewport(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}isExternalAccount(e,t,i){const s=pbjs.getBidResponsesForAdUnitCode(e.getAdUnitPath());let n=null,o=null;if(s&&s.bids&&s.bids.length){let e=s.bids.filter(e=>e.adId===t);e&&e.length&&e[0].params&&e[0].params.length&&(n=!e[0].params[0].ssmAccount,o=!e[0].params[0].ssmCreativeId)}if(null===n&&null===o){var r;const t=null===(r=this.smartTag.config.adUnits)||void 0===r||null===(r=r.filter(t=>t.adcode===e.getAdUnitPath())[0])||void 0===r||null===(r=r.creativePrebids)||void 0===r?void 0:r.filter(e=>{var t;return(null===(t=e.prebid_default)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.bidder)===i})[0];t&&(n=!t.ssm_account,o=t.id)}return{isExternalAccount:n,ssmCreativeId:o}}removeTargetingKey(e,t){e.getTargetingKeys().includes(t)?(e.clearTargeting(t),this.smartTag.log(`key '${t}' was deleted.`)):this.smartTag.log(`key '${t}' not exists.`)}setup(){window.googletag.cmd.push(()=>{let e=d(d({},{ssmasdomain:window.location.hostname.replace("www.",""),ssmasin:o.get("pageView",0),ssmashour:(new Date).getUTCHours()}),this.smartTag.config.targeting||{});if(window.ssmCustomTargetings&&(e=d(d({},e),window.ssmCustomTargetings)),(window.ssmAudienceTargetings||o.get("fsga"))&&(window.ssmAudienceTargetings||(window.ssmAudienceTargetings={},window.ssmAudienceTargetings.ssmaudiencegroup=o.get("fsga"),window.ssmAudienceTargetings.ssmaudiencesubgroup=o.get("fsga_sg"),window.ssmAudienceTargetings.UserType=o.get("UserType")),e=d(d({},e),window.ssmAudienceTargetings)),this.smartTag.config.target_utm){let t=Object(r.e)("utm_");Object.keys(t).length&&(e=d(d({},e),t))}if(this.smartTag.tag_zoom){if(o.get("zoom",0)>=1)return void(e.zoom=1);const t=()=>{Math.round(window.outerWidth/window.innerWidth*100)>100&&o.setPersistent("zoom",1)};window.addEventListener("resize",t),t()}if(sessionStorage.getItem("session/user-persona")&&(e.freepikUserValue=sessionStorage.getItem("session/user-persona")),window.location.href.indexOf(".freepik")>-1){e.UserType=e.userType="noregistered";const t=localStorage.getItem("session/user");if(t)try{const i=JSON.parse(JSON.parse(t).value);i&&i.utfr&&(e.UserType=e.userType="registered"===i.utfr?"registered":"premium")}catch(e){this.smartTag.log("Error parse user session",e)}}for(let t in e){let i=e[t];"string"==typeof i&&i.indexOf("function")>=0&&(i=Object(r.k)(`(${i})()`)),i&&window.googletag.pubads().setTargeting(t,[i.toString()])}this.smartTag.log("Targeting",e)})}useBids(e,t){if(!e.slot.__adUnit.config.prebid_refresh||e.slot.__adUnit.config.adcode&&void 0===this.smartTag.bidResponses[e.slot.__adUnit.config.adcode])return;let i=this.smartTag.bidResponses[e.slot.__adUnit.config.adcode].bids;i.sort((e,t)=>e.cpm<t.cpm?1:t.cpm<e.cpm?-1:0);let s=[];for(let e=0;e<i.length;e++)s[i[e].bidderCode]||(s[i[e].bidderCode]=i[e]);let n=parseInt(e.slot.__adUnit.config.prebid_refresh),o=parseInt(e.slot.__adUnit.config.prebid_refresh);if(Object.keys(s).length>2){this.smartTag.log("Next prebid true"+e.slot.__adUnit.config.id),delete s[Object.keys(s)[0]];for(let i=0;i<Object.keys(s).length;i++){let r=s[Object.keys(s)[i]];"Bid available"===r.statusMessage&&r.width>0&&r.height>0&&(this.smartTag.log("⚠️ Call render to "+o+": ",r,e.slot.__adUnit.config.id),setTimeout(()=>{this.renderAd(t,r)},1e3*o),o+=n)}}else this.smartTag.log("No next prebid")}renderAd(e,t){const i=window.pbjs||{};i.que=i.que||[];const s=this.smartTag;i.que.push(()=>{i.requestBids({bidsBackHandler:function(n){try{var o=document.createElement("iframe");o.setAttribute("style","overflow:hidden;margin:0; padding:0;border:0;"),o.scrolling="no",e.innerHTML="",e.appendChild(o),i.renderAd(o.contentWindow.document,t.adId),s.log("render ",t)}catch(e){s.log(e)}}})})}runAdUnits(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.length)return void this.smartTag.log("No dfp adunits");let s=[];if(window.googletag.cmd.push(()=>{1===this.smartTag.config.run_method&&window.googletag.pubads().disableInitialLoad(),this.smartTag.config.enable_lazy_load&&(this.smartTag.config.lazy_load_config?window.googletag.pubads().enableLazyLoad(this.smartTag.config.lazy_load_config):window.googletag.pubads().enableLazyLoad()),this.smartTag.config.set_page_url&&googletag.pubads().set("page_url",window.location.href),e.forEach(async e=>{if(this.smartTag.log("[GAM rendering ]",e),("screen"===e.config.load||"waitfortarget"===e.config.load&&!e.config.ssmInterstitial)&&await e.waitForLoad(),"onscroll"===e.config.load){let t=e.getMinTopFromStyle();this.smartTag.log(`adUnit '${e.config.name} (${e.config.id})' waiting onscroll`,e.config.selector,t),await e.waitOnScroll(e.config.selector,t)}if(e.config.withNative||e.config.is_open_rtb)return;let i,n=this.existingAdSlots[e.el.id];if(!n||n.getSlotElementId()!==e.el.id){var o,a;if(this.smartTag.config.dynamicSlot&&(i=e.__slot),e.config.out_page_format?(this.smartTag.log("slot OutOfPageFormat",e.config.out_page_format),i=window.googletag.defineOutOfPageSlot(e.config.adcode,googletag.enums.OutOfPageFormat[e.config.out_page_format]),i&&"INTERSTITIAL"===e.config.out_page_format&&i.setConfig({interstitial:{triggers:{unhideWindow:null===(o=this.smartTag.config.interstitialUnhideWindow)||void 0===o||o,navBar:null===(a=this.smartTag.config.interstitialNavBar)||void 0===a||a}}})):e.config.sizes&&Object(r.n)(e.config.sizes,"OoP")?(this.smartTag.log("slot OoP",e.config.id),i=window.googletag.defineOutOfPageSlot(e.config.adcode,e.el.id)):this.smartTag.config.dynamicSlot||(i=window.googletag.defineSlot(e.config.adcode,e.config.sizes,e.el.id)),this.existingAdSlots[e.el.id]=i,s[e.el.id]=i,e.config.targeting&&Object.keys(e.config.targeting).forEach(t=>{this.smartTag.log("Targeting ",t,e.config.targeting[t]),i.setTargeting(t,e.config.targeting[t])}),t&&t[e.config.adcode])if(e.config.prebidUsed&&e.config.prebidUsed.config&&e.config.prebidUsed.config.hasVideo)window.googletag.cmd.push(()=>{this.smartTag.log("🔀 [PREBID] setTargetingForGPTAsync",[e.config.adcode]),pbjs.que.push(()=>{pbjs.setTargetingForGPTAsync([e.config.adcode])})});else try{const s=t[e.config.adcode];if(parseFloat(s.hb_pb)>=2&&i.setTargeting("ssmpremium",1),e.config.use_optimized&&void 0!==s.hb_pb){this.smartTag.log(" 🔀 [PREBID][OPTMIZED] bidS",s);let t=0,n=s.hb_pb;const o=Object.keys(s).filter(e=>e.startsWith("hb_pb_")).map(e=>parseFloat(s[e]));t=o.length>=2?o.sort((e,t)=>t-e).slice(0,2).reduce((e,t)=>e+t,0):parseFloat(s.hb_pb);var d=e.config.op_config.opTrafficPercent,l={hb_pb:t},c=parseInt(e.config.op_config.opIncreasePercentage)/100,g=e.config.op_config.opFloorCpm,u=e.config.op_config.opRoundingRange;if(100*Math.random()<=d&&t>=g){var f=this.ssmOpCalculateAdjustedCpm(l,c,g,u);!1!==f&&(i.setTargeting("hb_pb_ssmas",f),e.config.ssmop=!0,e.config.ssmopOrginalCPM=n,e.config.ssmopOptimizedCPM=f,this.smartTag.log("🔀 [PREBID][OPTMIZED] Use_optimized",e.config.name,parseFloat(t),f))}}(window.location.href.indexOf("ssmShowValues")>-1||"true"===localStorage.getItem("ssmShowValues"))&&s.hb_bidder&&console.log("ssmShowValues Init",s.hb_bidder,s.hb_pb,"id",e.config.id),Object.keys(s).forEach(t=>{if("optidigital"===s[t]||t.includes("optidigita")){let e=t.replace("optidigital","ssmas");e=e.replace("optidigita","ssmas"),i.setTargeting(e,s[t].replace("optidigital","ssmas")),this.smartTag.log("🔀 [PREBID] Using prebid",e,s[t].replace("optidigital","ssmas"),"hb_bidder: "+s[t].replace("optidigital","ssmas"),i)}else if(t.includes("hb_pb_")){let n=Object(r.f)(this.smartTag,e,!0),o=0;if(n.config){let r=n.config.filter((function(e){return e.bidder===s.hb_bidder&&e.multiplicador>0&&e.multiplicador<1}));if(r.length&&-1!==t.indexOf(s.hb_bidder)){o=parseFloat(r[0].multiplicador);let n=(parseFloat(s.hb_pb)*o).toFixed(2);s.hb_pb=String(n),s[t]=String(n),(window.location.href.indexOf("ssmShowValues")>-1||"true"===localStorage.getItem("ssmShowValues"))&&console.log("ssmShowValues Targ",s.hb_bidder,s.hb_pb,"id",e.config.id),i.setTargeting("hb_pb",s.hb_pb)}}i.setTargeting(t,s[t]),this.smartTag.log("🔀 [PREBID] Using prebid",t,s[t],"hb_bidder: "+s.hb_bidder,i)}!t.includes("hb_adid_")&&!t.includes("hb_native_")||t.includes("optidigita")||i.setTargeting(t,s[t]),s.hb_adid&&i.setTargeting("hb_adid",s.hb_adid)})}catch(e){ssmSmartTag.log("🔀 [PREBID] Prebid error:",e)}i.addService(window.googletag.pubads()),e.config.expose_vast&&(this.smartTag.log("Expose Vast",e.config.id,e.config.ad_code),i.setConfig({outstream:{exposeVast:!0}})),e.__slot=i,i.__adUnit=e,!0===e.async&&(this.smartTag.runEnableServices||(this.ssmSetPrivacySettings(),this.smartTag.log("enableSsm partAsync 1"),this.smartTag.runEnableServices=!0,window.googletag.enableServices()),this.smartTag.log("Displaying",e),this.smartTag.config.dynamicSlot?window.googletag.display(i):window.googletag.display(e.el.id),window.googletag.pubads().isInitialLoadDisabled()&&window.googletag.pubads().refresh([i])),e.el.addEventListener("destroy",()=>{this.smartTag.log("Destroying slot",e),this.smartTag.clearAdunitContainer(e.config.id),window.googletag.destroySlots([i])})}}),this.ssmSetPrivacySettings(),this.smartTag.log("enableSsm 1"),this.smartTag.runEnableServices=!0,window.googletag.enableServices()}),window.googletag.cmd.push(()=>{i&&window.apstag.setDisplayBids(),e.forEach(e=>{!0===e.async||e.config.out_page_format||(this.smartTag.config.dynamicSlot?window.googletag.display(e.__slot):window.googletag.display(e.el.id))})}),window.googletag.pubads().isInitialLoadDisabled()&&Object.values(s).length){let e=Object.values(s).filter(e=>e&&!e.renderend&&!e.__adUnit.async);e.length&&(e.forEach(e=>{e.__adUnit.config.first_look&&(this.smartTag.log("[DELIVERY][PREBID RENDER FIRST LOOK]",e.__adUnit.config.id,e.__adUnit.config.name,"is rendering in prebid render"),this.renderFirstLookSlot(e))}),e=e.filter(e=>!e.__adUnit.config.first_look),this.smartTag.log("[Delivery] IsInitialLoadDisabled refresh",e.map((function(e){return e.__adUnit.config.id+"-"+e.getSlotElementId()}))),window.googletag.cmd.push(()=>{window.googletag.pubads().refresh(e)}))}}renderFirstLookSlot(e){var t;!1===this.renderFallbackHbBidsV2(e)&&((!e.__adUnit.config.ssmInterstitial||null!==(t=e.__adUnit.config.ssmInterstitial)&&void 0!==t&&t.show_google)&&window.googletag.cmd.push(()=>{window.googletag.pubads().refresh([e])}))}ssmOpCalculateAdjustedCpm(e,t,i,s){const n=parseFloat(e.hb_pb);if(n>=i){let e=n*(1+t);return(Math.ceil(e/s)*s).toFixed(2)}return!1}ssmSetPrivacySettings(){null!==this.smartTag.setRequestNonPersonalizedAds&&(this.smartTag.log("CMP option: nonPersonalizedAds",this.smartTag.setRequestNonPersonalizedAds),window.googletag.pubads().setPrivacySettings({nonPersonalizedAds:this.smartTag.setRequestNonPersonalizedAds})),this.smartTag.restrictDataProcessingCCPA&&(this.smartTag.log("CMP option: restrictDataProcessing",this.smartTag.restrictDataProcessingCCPA),window.googletag.pubads().setPrivacySettings({restrictDataProcessing:!0})),(this.smartTag.isLimitedAds||this.smartTag.doPrivate)&&(this.smartTag.log("CMP option: limitedAds",!0),window.googletag.pubads().setPrivacySettings({limitedAds:!0})),localStorage.getItem("ssmuuid")&&(this.smartTag.log("PublisherProvidedId","ssmuuid"),window.googletag.pubads().setPublisherProvidedId(localStorage.getItem("ssmuuid")),window.googletag.pubads().setTargeting("ssmuuid",localStorage.getItem("ssmuuid")))}ssmDfpRefresh(){if("visible"===document.visibilityState){let e=window.googletag.pubads().getSlots();e=e.filter(e=>!(!e.__adUnit||null!==e.__adUnit.refreshByRule)&&e.__adUnit.config.refresh),e.forEach((e,t)=>{if(e.__adUnit.config.sticky){document.querySelectorAll("#ssm_container-button_close_fixed").forEach(e=>{e.remove()}),e.toDelete=0}else{let t=document.getElementById(e.getSlotElementId());if(e.toDelete=!this.inTheViewport(t),e.toDelete?ssmSmartTag.log("Remove slot, not in viewport",e.__adUnit.config.id):ssmSmartTag.log("In the viewport!",e.__adUnit.config.id),e.__adUnit.fallback&&e.__adUnit.fallback.id){const t=document.querySelector(".aU-"+e.__adUnit.fallback.id);t&&"replace"!==!e.__adUnit.fallback.location&&(this.smartTag.log("Remove fallback",e.__adUnit.fallback.id,e.__adUnit.fallback.location),t.remove())}}});let t=e.filter(e=>!e.toDelete),i=[];if(t.forEach((function(e){try{e.clearTargeting(),e.__adUnit.refreshCount++,ssmSmartTag.log("Targeting "+e.__adUnit.config.id,"ssmRefresh",e.__adUnit.refreshCount),e.setTargeting("ssmRefresh",e.__adUnit.refreshCount)}catch(e){ssmSmartTag.log("error clear targeting",e)}i.push(e.__adUnit)})),!t.length)return void ssmSmartTag.log("No slots to refresh");ssmSmartTag.refreshAdsDfp(i,t),ssmSmartTag.log("Refreshing "+t.length+" by interval "+o.get("refreshads",0)+" times. "),o.setSession("refreshads",o.get("refreshads",0)+1)}}inTheViewport(e){if(!e)return!1;const t=e.getBoundingClientRect();return t.top>=e.clientHeight/2*-1&&t.left>=0&&t.right<=(window.innerWidth||document.documentElement.clientWidth)&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)}getValidSlotContainer(e){return document.querySelector(`[id="${e}"]`)}async loadPwt(){if(this.smartTag.config.has_pubmaticIdentity){var e=!1,t=window.location.href,i="";if(t.indexOf("pwtv=")>0){var s=/pwtv=(.*?)(&|$)/g.exec(t);s.length>=2&&s[1].length>0&&(i="/"+s[1])}var n=document.createElement("script");n.async=!0,n.type="text/javascript",n.src="//ads.pubmatic.com/AdServer/js/pwt/161123/5364"+i+"/pwt.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o),await Object(r.t)(),this.smartTag.log("Load PWT"),await(async()=>{if(!e){e=!0;var t=document.createElement("script"),i="https:"==document.location.protocol;t.src=(i?"https:":"http:")+"//securepubads.g.doubleclick.net/tag/js/gpt.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s),await Object(r.p)(),window.googletag=window.googletag||{cmd:[]},window.googletag=Object.assign({},window.googletag),this.smartTag.log("Load Googletag")}})()}}customRefreshGT(){const e=window.googletag.pubads().refresh;window.googletag.pubads().refresh=t=>{var i;if(t)return this.smartTag.log("call REFRESH",t,t.length&&(null===(i=t[0].__adUnit)||void 0===i?void 0:i.config.id)||"no adunit"),void e.call(this,t);console.error("Call refresh without slots")}}initialCountRefreshRule(e){return!(e.condition&&!Object(r.k)(e.condition))&&(this.smartTag.countRefreshRules=this.smartTag.countRefreshRules||{},this.smartTag.countRefreshRules["rule_"+e.id]||(this.smartTag.countRefreshRules["rule_"+e.id]=0),!0)}setUpRefreshRules(e){if(!e.slot.__adUnit)return;this.smartTag.log("RefreshRule search rule for adunit "+e.slot.__adUnit.config.id,e.lineItemId,e.sourceAgnosticLineItemId),e.slot.__adUnit.refreshByRule=null,e.slot.__adUnit.applyRefreshRule=null;const t=this.smartTag.config.genericRefreshRule;if(t&&t.condition&&!Object(r.k)(t.condition))this.smartTag.log("RefreshRule Generic condition false");else{t&&t.no_refresh_direct_cp&&!1===e.isBackfill&&(e.slot.__adUnit.refreshByRule=!1),this.smartTag.config.refreshRules&&this.smartTag.config.refreshRules.length||(this.smartTag.config.refreshRules=[]);for(const t of this.smartTag.config.refreshRules)if(!t.condition||Object(r.k)(t.condition)){if((Object(r.n)(t.lineitem_ids,e.lineItemId)||Object(r.n)(t.lineitem_ids,e.sourceAgnosticLineItemId))&&!e.slot.__adUnit.refreshByRule&&(this.smartTag.log("RefreshRule apply by lineitem Rule"+t.id,e.slot.__adUnit.config.id,e.lineItemId),this.initialCountRefreshRule(t))){if(!1===e.slot.__adUnit.refreshByRule&&!t.override_generic_rule){this.smartTag.log("RefreshRule No apply rule, no override Generic Rule"+t.id,e.slot.__adUnit.config.id);continue}e.slot.__adUnit.applyRefreshRule=t,e.slot.__adUnit.refreshByRule=!0,this.refreshByRule(e.slot);break}}else this.smartTag.log("RefreshRule condition false",t.id);!1===e.slot.__adUnit.refreshByRule&&this.smartTag.log("RefreshRule No refresh direct cp by G rule",e.slot.__adUnit.config.id)}}controlRefreshRule(e){let t=!e.condition||Object(r.k)(e.condition),i=!e.max_per_user||e.max_per_user>o.get("rule_u"+e.id,0),s=!e.max_per_session||e.max_per_session>o.get("rule_s"+e.id,0),n=!e.max_per_view||e.max_per_view>(this.smartTag.countRefreshRules["rule_"+e.id]||0),a=i&&s&&n;return a||this.smartTag.log("No refresh rule by limit: ",e.id,`Condition ${t} User ${i} Session ${s} Page ${n}`),a}refreshByRule(e){const t=e.__adUnit.applyRefreshRule;t&&this.controlRefreshRule(t)&&(this.smartTag.log(`RefreshRule Scheduled Refresh rule ${t.refresh_time} seconds by rule ${t.id} for adunit: `+e.__adUnit.config.id),setTimeout(()=>{let i=document.getElementById(e.getSlotElementId());if(!t.lazy_load||this.inTheViewport(i)){if(this.controlRefreshRule(t)){if(o.setPersistent("rule_u"+t.id,o.get("rule_u"+t.id,0)+1),o.setSession("rule_s"+t.id,o.get("rule_s"+t.id,0)+1),this.smartTag.countRefreshRules["rule_"+t.id]=this.smartTag.countRefreshRules["rule_"+t.id]+1,e.__adUnit.fallback&&e.__adUnit.fallback.id){const t=document.querySelector(".aU-"+e.__adUnit.fallback.id);t&&(this.smartTag.log("RefreshRule Remove fallback",e.__adUnit.fallback.id),t.remove())}e.clearTargeting(),e.__adUnit.refreshCount++,ssmSmartTag.log("RefreshRule Targeting "+e.__adUnit.config.id,"ssmRefresh",e.__adUnit.refreshCount),e.setTargeting("ssmRefresh",e.__adUnit.refreshCount),this.smartTag.log(`RefreshRule Refreshing by rule ${t.id} adunit: `+e.__adUnit.config.id),this.smartTag.refreshAdsDfp([e.__adUnit],[e])}}else this.smartTag.log("RefreshRule Not in the viewport, not refresh by rule",e.__adUnit.config.id)},1e3*t.refresh_time))}},c=i(1);var g=class{constructor(e){this.smartTag=e}runAdUnits(e){e.length?(e.forEach(async e=>{"screen"===e.config.load&&await e.waitForLoad(),e.el.innerHTML=e.config.adcode,!0===e.async&&(window.adsbygoogle=window.adsbygoogle||[]).push({})}),(window.adsbygoogle=window.adsbygoogle||[]).push({})):this.smartTag.log("No adsense adunits")}};const u=new RegExp("pingdom|gtmetrix|webpagetest|page speed|insights|lighthouse","i");var f=new class{shouldBlock(){return!!u.exec(navigator.userAgent)}newShouldBlock(){var e;return ssmSmartTag.log("newShouldBlock"),null===(e=navigator.userAgentData)||void 0===e||null===(e=e.brands)||void 0===e?void 0:e.some(e=>"Lighthouse"===(null==e?void 0:e.brand))}};function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function m(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){n()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var p=class{constructor(e){this.smartTag=e,this.prebidLoads=0,this.smartTag.firstLoadPrebid&&(this.smartTag.firstLoadPrebid=!1,this.smartTag.config.external_prebid&&(this.smartTag.log("Load external Prebid"),Object(r.j)("https://scripts.ssm.codes/prebid/"+this.smartTag.config.external_prebid+".js",!0)))}getPrebidVersion(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.pbjs||{version:"v0.0.0"};return parseFloat(e.version.replace("v","").split("-")[0])}checkFledgeSupported(){return"runAdAuction"in navigator&&"joinAdInterestGroup"in navigator&&this.getPrebidVersion()>=9}checkFledgeSizes(e){var t,i;const s=null!==(t=null==e||null===(i=e.config)||void 0===i?void 0:i.sizes)&&void 0!==t?t:[];return!!s.length&&s.filter(e=>{let[t,i]=e;return!(t===i&&t<=5)}).length>0}getAdUnits(e){const t=this.checkFledgeSupported();return e.filter(e=>e.config.prebid).map(e=>{var i,s,n;const o=e.config.sizes.filter(e=>Array.isArray(e));if(!o.length)return!1;let a=Object(r.f)(this.smartTag,e,!1);if(e.config.prebidUsed=a,!a.config.length)return!1;this.smartTag.log(a.load,e.config.name+" ("+e.config.id+")",a.config);let d={banner:{sizes:o}};a.hasVideo&&a.hasVideo.config&&(this.smartTag.log("Add mediaType Video ("+e.config.id+")",a.hasVideo.config),d={video:{playerSize:a.hasVideo.config.PlayerSize,context:a.hasVideo.config.Context}});let l={code:e.config.adcode,mediaTypes:d,bids:a.config,ortb2Imp:{ext:{gpid:e.config.adcode+"#"+e.el.id}}};if(a.config.some(e=>["criteo","pubmatic"].includes(e.bidder))&&null!==(i=this.smartTag.config.activePrebidModules)&&void 0!==i&&i.includes(1002)?l.ortb2Imp.ext.ae=1:a.config.some(e=>["richaudience"].includes(e.bidder))&&null!==(s=this.smartTag.config.activePrebidModules)&&void 0!==s&&s.includes(1002)&&(l.ortb2Imp.ext.ae=0),a.config.some(e=>["criteo"].includes(e.bidder))&&(l.ortb2Imp.ext.data={pbadslot:e.config.adcode+"#"+e.el.id}),t&&null!==(n=this.smartTag.config.activePrebidModules)&&void 0!==n&&n.includes(1002)){this.checkFledgeSizes(e)||(l.ortb2Imp.ext.ae=0)}let c=a.config.filter(e=>["adagio"].includes(e.bidder));return c.length&&(c=c[0],l.ortb2Imp.ext.data={divId:c.params.adUnitElementId,placement:c.params.placement}),this.smartTag.config.open_path_ttd&&(l.imp={tagid:e.config.adcode+"#"+e.el.id}),a.hasVideo&&(l.renderer={}),e.config.prebid_floors&&(l.ortb2Imp.ext.prebid={floors:e.config.prebid_floors}),l}).filter(e=>!!e)}customSetConfig(){const e=pbjs.setConfig;window.pbjs.setConfig=t=>{const i={bidderTimeout:this.smartTag.config.prebid_timeout||3e3},s=m(m({},t),i);e.call(this,s)}}getBids(e,t){return new Promise(async(i,s)=>{var n;this.prebidLoads++;let o=this.getAdUnits(e);if(0===o.length)return void s("No adunits valid for prebid");this.smartTag.log("Requesting bids for:",o);let a=o.map(e=>e.bids.map(e=>e.bidder));a=[].concat.apply([],a);let d=Object(r.l)(a);this.smartTag.log("🔀 [PREBID] Active Bidders:",d);let l=this.smartTag.config.has_schain&&this.smartTag.config.schain_config?{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"semseoymas.com",sid:null===(n=this.smartTag.config.schain_config)||void 0===n?void 0:n.seller_id,hp:1}]}}:null;this.smartTag.config.external_prebid&&await this.waitToPrebid();const c=window.pbjs||{};c.que=c.que||[],this.customSetConfig(),(window.location.href.indexOf("ssmShowValues")>-1||"true"===localStorage.getItem("ssmShowValues"))&&c.onEvent("bidAdjustment",(function(e){console.log("ssmShowValues orig: ",e.bidder,e.originalCpm,e.originalCurrency),console.log("ssmShowValues adj: ",e.bidder,e.cpm,e.currency)})),c.que.push(()=>{this.prebidLoads<5&&(t&&(this.smartTag.log("🔀 [PREBID] Remove adunits pbjs"),c.removeAdUnit()),c.addAdUnits(o));let e={improvedigital:{usePrebidSizes:!0},consentManagement:{usp:{cmpApi:"iab",timeout:1e4}}};e=m(m({},e),this.smartTag.config.pbjsPreConfig);const n=this.getPrebidVersion(c);if(n>=8&&(e.enableTIDs=!0),"function"==typeof window.__tcfapi&&(e.consentManagement.gdpr={cmpApi:"iab",timeout:8e3,defaultGdprScope:!0}),e.enableSendAllBids=!this.smartTag.config.disable_send_all_bids,e.bidderTimeout=this.smartTag.config.prebid_timeout||3e3,e.pageUrl=window.top.location.href,this.smartTag.config.no_use_bid_cache||(this.smartTag.log("useBidCache"),e.useBidCache=!0),e.userSync={},e.userSync.userIds=[],this.smartTag.config.has_id5Id){this.smartTag.log("🔀 [PREBID] has_id5Id");let t={name:"id5Id",params:{partner:492},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}};e.userSync.userIds.push(t),e.userSync.auctionDelay=50}try{if(this.smartTag.config.adUnits.filter(e=>e.prebid_floors).length&&(e.floors={enforcement:{enforceJS:!0,enforcePBS:!0,bidAdjustment:!0}}),this.smartTag.config.has_pubmaticIdentity&&void 0!==PWT.getUserIds()&&Object.keys(PWT.getUserIds()).length){if(e.userSync={userIds:[{name:"id5Id",params:{partner:23},storage:{type:"cookie",name:"id5id",expires:60,refreshInSeconds:28800}},{name:"criteo"},{name:"identityLink",params:{pid:"1258"},storage:{type:"cookie",name:"idl_env",expires:30}},{name:"netID"},{name:"lotamePanoramaId"},{name:"unifiedId",params:{url:"//match.adsrvr.org/track/rid?ttd_pid=pubmatic&fmt=json"},storage:{type:"cookie",name:"pbjs-unifiedid",expires:60}}],auctionDelay:50},this.smartTag.config.add_module_pubcommon){let t={name:"pubCommonId",storage:{type:"cookie",name:'"_pubcid"',expires:180}};e.userSync.userIds.push(t)}e.userSync.syncDelay=3e3}}catch(e){ssmSmartTag.log("🔀 [PREBID] Error load pwt")}try{if(this.smartTag.config.activePrebidModules=this.smartTag.config.activePrebidModules||[],this.smartTag.config.activePrebidModules.includes(90)){this.smartTag.log("🔀 [PREBID] LotamePanoramaId");let t={name:"lotamePanoramaId",params:{clientId:"17274"}};e.userSync.userIds.push(t)}if(this.smartTag.config.activePrebidModules.includes(905)){this.smartTag.log("🔀 [PREBID] 33acrossIdSystem");let t={name:"33acrossId",params:{pid:"0015a00003IkCTDAA3"},storage:{name:"33acrossId",type:"html5",expires:90,refreshInSeconds:28800}};e.userSync.userIds.push(t)}if(this.smartTag.config.activePrebidModules.includes(809)){this.smartTag.log("🔀 [PREBID] teadsId First Party Data Enrichment");let t={name:"teadsId",params:{pubId:21563}};e.userSync.userIds.push(t)}if(c.installedModules&&Object(r.n)(c.installedModules,"criteoIdSystem")){this.smartTag.log("🔀 [PREBID] criteoIdSystem userIds");let t={name:"criteo"};e.userSync.userIds.push(t)}if(this.smartTag.config.has_amxId){this.smartTag.log("🔀 [PREBID] has_amxId");let t={name:"amxId",storage:{type:"html5",name:"amxId",expires:1}};e.userSync.userIds.push(t)}if(this.smartTag.config.identityLink){this.smartTag.log("🔀 [PREBID] has_identityLink");let t={name:"identityLink",params:{pid:this.smartTag.config.identityLink},storage:{type:"cookie",name:"idl_env",expires:7}};e.userSync.userIds.filter(e=>"identityLink"===e.name).length?e.userSync.userIds.map((function(e){"identityLink"===e.name&&(e.params=t.params,e.storage=t.storage)})):e.userSync.userIds.push(t),e.userSync.syncDelay=3e3}if(this.smartTag.config.price_granularity&&(this.smartTag.log("🔀 [PREBID] Price Granularity: Dense"),e.priceGranularity="dense"),this.smartTag.config.activePrebidModules.includes(64)&&(this.smartTag.log("🔀 [PREBID] AdServerCurrency: ON"),e.currency={adServerCurrency:this.smartTag.config.setPrebidCurrency||"EUR",granularityMultiplier:1}),this.smartTag.config.prebid_debug&&(e.debug=!0),this.smartTag.config.add_filter_settings&&(this.smartTag.log("🔀 [PREBID] Add filter Settings"),e.userSync.filterSettings={iframe:{bidders:"*",filter:"include"},image:{bidders:"*",filter:"include"}},e.userSync.syncDelay=3e3,e.userSync.syncEnabled=!0,e.userSync.syncsPerBidder=5),this.smartTag.config.enable_prebid_server&&this.smartTag.config.prebid_server_bidders&&(this.smartTag.log("🔀 [PREBID] Add Prebid Server"),e.s2sConfig={accountId:"22994",adapter:"prebidServer",enabled:!0,bidders:this.smartTag.config.prebid_server_bidders,defaultTtl:300,endpoint:{noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},timeout:1800}),this.smartTag.config.addConfigOutbrain){e.outbrain={bidderUrl:"https://b1h-euc1.zemanta.com/api/bidder/prebid/bid/",usersyncUrl:"https://b1h-euc1.zemanta.com/usersync/prebid"};let t=["AF","SA","AM","AZ","BD","BH","BN","BT","KH","CN","CY","KR","KP","AE","PH","GE","HK","IN","ID","IQ","IR","CX","CC","IL","JP","JO","KZ","KG","KW","LB","MO","MY","MV","MN","MM","NP","OM","PK","PS","QA","LA","SG","SY","LK","TH","TW","TJ","IO","TL","TM","UZ","VN","YE"];navigator.language.slice(3,5),navigator.language.length&&-1!==t.indexOf(navigator.language.slice(3,5))?e.outbrain={bidderUrl:"https://b1h-apac1.zemanta.com/api/bidder/prebid/bid/",usersyncUrl:"https://b1h-apac1.zemanta.com/usersync/prebid"}:navigator.language.length&&"US"===navigator.language.slice(3,5)&&(e.outbrain={bidderUrl:"https://b1h.zemanta.com/api/bidder/prebid/bid/",usersyncUrl:"https://b1h.zemanta.com/usersync/prebid"}),e.userSync.aliasSyncEnabled=!0}if(this.smartTag.config.ortb2_config){this.smartTag.log("🔀 [PREBID] Ortb2 active"),e.ortb2={site:this.smartTag.config.ortb2_config};let t=document.querySelector('meta[name="keywords"]')?document.querySelector('meta[name="keywords"]').content:"";if(!t&&document.querySelector("title")){let e=document.querySelector("title").textContent;t=[],e=e.split(" "),e.forEach(e=>{e.length>4&&t.push(e)}),t=t.join(", ")}e.ortb2.site.keywords=t,e.ortb2.site.page=window.location.href}if(d.includes("adagio")&&n>=9){e.ortb2=e.ortb2||{},e.ortb2.site=e.ortb2.site||{},e.ortb2.site.ext=e.ortb2.site.ext||{},e.ortb2.site.ext.data=e.ortb2.site.ext.data||{};let t=o.filter(e=>e.bids.filter(e=>"adagio"===e.bidder).length);t=t.length?t[0].bids.filter(e=>"adagio"===e.bidder)[0]:null,t.params.pagetype&&(e.ortb2.site.ext.data.pagetype=t.params.pagetype),t.params.category&&(e.ortb2.site.ext.data.category=t.params.category)}this.smartTag.config.activePrebidModules.includes(1002)&&n<9&&(d.includes("criteo")||d.includes("pubmatic"))&&(this.smartTag.log("🔀 [PREBID] Fledge: ON"),e.fledgeForGpt={enabled:!0,bidders:["criteo","pubmatic"],defaultForSlots:1});const t={};this.smartTag.config.activePrebidModules.includes(1178)&&n>=8.42&&(!c.getUserIds().euid&&this.smartTag.config.userEmail&&(this.smartTag.log("🔀 [PREBID] EuidIdSystem: ON"),t.serverPublicKey="EUID-X-P-MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEl2C11QtK3VX5v9BobyiwtDB2yJ2IZVfjS3F6vez8JMYXYcZCKxYz5evxe6c2B71m2V19UEXpsj0U42A9ktG3+g==",t.subscriptionId="UrgzU4rKLE",t.email=this.smartTag.config.userEmail),e.userSync.userIds.push({name:"euid",params:t}),e.syncDelay=5e3,e.auctionDelay=1e3),this.smartTag.config.open_path_ttd&&(this.smartTag.log("🔀 [PREBID] UnifiedId OpenPath: ON"),e.userSync.userIds.push({name:"unifiedId",params:{url:"https://match.adsrvr.org/track/rid?ttd_pid=zdsq63q&fmt=json"},storage:{type:"cookie",name:"pbjs-unifiedid",expires:30}})),e.deviceAccess=!0,e=Object(r.a)("ssm.pbjs.config",e),this.smartTag.log("pbjsConfig",e),c.setConfig(e);const i=new CustomEvent("pbjs.config");window.dispatchEvent(i)}catch(e){ssmSmartTag.log("🔀 [PREBID] Error load prebid config",e),s("Error load prebid config")}try{this.smartTag.config.enable_analytics_prebid&&(this.smartTag.log("🔀 [PREBID] Adagio Analytics: ON"),c.enableAnalytics([{provider:"adagio",options:{}}])),this.smartTag.config.activePrebidModules.includes(1123)&&(this.smartTag.log("🔀 [PREBID] Analytics asteriobid: ON"),c.enableAnalytics({provider:"asteriobid",options:{url:"https://endpt.asteriobid.com/endpoint",bundleId:"47e27e49-e6f6-4341-9eeb-2edbe1f424ed"}})),this.smartTag.config.prebid_google_analytics&&this.enableGoogleAnaltytics();let e={improvedigital:{bidCpmAdjustment:function(e){return.8*e}},rubicon:{bidCpmAdjustment:function(e){return.75*e}},pubmatic:{bidCpmAdjustment:function(e){return.85*e}}};this.smartTag.config.generalAdjustments&&Object.keys(this.smartTag.config.generalAdjustments).length&&Object.keys(this.smartTag.config.generalAdjustments).forEach(t=>{d&&!d.includes(t)||(e[t]={bidCpmAdjustment:e=>e*this.smartTag.config.generalAdjustments[t]})}),this.smartTag.config.adjustments&&Object.keys(this.smartTag.config.adjustments).length&&Object.keys(this.smartTag.config.adjustments).forEach(t=>{d&&!d.includes(t)||(e[t]={bidCpmAdjustment:e=>e*this.smartTag.config.adjustments[t]})}),d.forEach(t=>{e[t]=e[t]||{},e[t].storageAllowed=!0}),(window.location.href.indexOf("ssmShowValues")>-1||"true"===localStorage.getItem("ssmShowValues"))&&this.smartTag.log("🔀 [PREBID] Custom Bidder Settings",e),c.bidderSettings=e;const t=new CustomEvent("pbjs.config.bidders");window.dispatchEvent(t),d.forEach(e=>{if(l&&(!this.smartTag.config.schain_except||this.smartTag.config.schain_except&&!Object.values(this.smartTag.config.schain_except).includes(e))){if("oftmedia"===e)return;c.setBidderConfig({bidders:[e],config:{schain:l}},!0)}["criteo","pubmatic"].includes(e)&&this.smartTag.config.activePrebidModules.includes(1002)&&(this.smartTag.log("🔀 [PREBID] Set config fledge enabled for:",e),c.setBidderConfig({bidders:[e],config:{fledgeEnabled:!0,defaultForSlots:1,bidders:["criteo","pubmatic"]}},!0)),["criteo"].includes(e)&&this.smartTag.config.sendHashEmailCriteo&&localStorage.getItem("ssmHashId")&&(this.smartTag.log("🔀 [PREBID] Send Hash Email Criteo"),c.setBidderConfig({bidders:["criteo"],config:{ortb2:{user:{ext:{data:{eids:[{source:this.smartTag.config.post_bid_domain||this.smartTag.dfp.getCleanDomain(window.location.host),uids:[{id:localStorage.getItem("ssmHashId"),atype:3,ext:{stype:"hemsha256"}}]}]}}}}}},!0))})}catch(e){ssmSmartTag.log("🔀 [PREBID] Error load bidder Settings",e),s("Error load bidderSettings")}d&&d.includes("oftmedia")&&Object(r.n)([85,61],this.smartTag.config.configId)&&(this.smartTag.log("schain Oftmedia"),c.setBidderConfig({bidders:["oftmedia"],config:{schain:{validation:"relaxed",config:{ver:"1.0",complete:1,nodes:[{asi:"152media.info",sid:"152M847",hp:1}]}}}},!0));let a=o.map((function(e){return e.code}));try{c.requestBids({adUnitCodes:a,timeout:this.smartTag.config.prebid_timeout||3e3,bidsBackHandler:e=>{if(c.initAdserverSet||(c.initAdserverSet=!0),null==e||!Object.keys(e).length){let e=ssmStore.get("prebidEmpty",0);return e+=1,ssmStore.setSession("prebidEmpty",e),this.smartTag.log("🔀 [PREBID] prebidEmpty",e),void s("No bids in")}this.smartTag.bidResponses=c.getBidResponses(),i(c.getAdserverTargeting())}})}catch(e){ssmSmartTag.log("🔀 [PREBID] ConsentManagement Error",e),s("ConsentManagement Error")}}),360===this.smartTag.config.configId&&setTimeout(()=>{s("No bids in 2. Timeout")},this.smartTag.config.prebid_timeout)})}async enableGoogleAnaltytics(){await Object(r.o)()?(this.smartTag.log("🔀 [PREBID] Google Analytics Adapter: ON"),ga("create",this.smartTag.config.prebid_google_analytics,"auto","ssmAnalyticsAdapter"),pbjs.enableAnalytics([{provider:"ga",options:{trackerName:"ssmAnalyticsAdapter"}}])):this.smartTag.log("🔀 [PREBID] Google Analytics Adapter: Off, no GA found")}waitToPrebid(){return new Promise(e=>{if(window.pbjs)e(!0);else{let t=setInterval(()=>{window.pbjs&&(clearInterval(t),e(!0))},100)}})}runOutstreams(e){return new Promise((t,i)=>{-1===this.smartTag.config.libraries.indexOf("prebid")&&i("Prebid is required to RunOutstream");let s=this.getAdUnits(e);if(0===s.length)return void i("No adunits valid for prebid outstream");this.smartTag.log("Requesting bids outstream for:",s);const n=window.pbjs||{};n.que=n.que||[];this.smartTag.config.adUnits.filter(e=>e.adcode===s[0].code);n.que.push(()=>{n.addAdUnits(s);try{n.requestBids({timeout:this.smartTag.config.prebid_timeout||300,bidsBackHandler:e=>{const o=n.getHighestCpmBids(s[0].code);o[0]?t(n.renderAd(document,o[0].adId)):i("No response bids outstream")}})}catch(e){return void i("ConsentManagement outstream Error")}})})}async initializeIMA(e,t,i){this.smartTag.log("Initializing IMA");let s=document.createElement("script");s.async=!0,s.type="text/javascript",s.src="//imasdk.googleapis.com/js/sdkloader/ima3.js",document.querySelector("head").appendChild(s),await Object(r.s)();let n=new google.ima.AdDisplayContainer(e,i),o=new google.ima.AdsLoader(n);i.addEventListener("ended",(function(){o.contentComplete()}));var a=new google.ima.AdsRequest;a.adTagUrl=t.vastImpUrl,a.linearAdSlotWidth=i.clientWidth,a.linearAdSlotHeight=i.clientHeight,a.nonLinearAdSlotWidth=i.clientWidth,a.nonLinearAdSlotHeight=i.clientHeight/3,o.requestAds(a)}loadGumGum(){let e=this.getAdUnits(this.smartTag.slots.of("dfp"));if(Object(r.m)(e,"gumgum")&&e.length){this.smartTag.log("Load ifr gumgum");let t=Object(r.d)(e,"gumgum","zone"),i=0,s="";"undefined"!=typeof __tcfapi&&__tcfapi("addEventListener",2,(e,t)=>{i=0,e.gdprApplies&&(i=1),s=e.tcString});let n=encodeURI(document.location.href),o="1---";"undefined"!=typeof __uspapi&&__uspapi("getUSPData",1,(e,t)=>{t&&(o=null==e?void 0:e.uspString)});let a=`https://rtb.gumgum.com/getuid/${t}?r=${n}&gdpr=${i}&gdpr_consent=${encodeURI(s)}&us_privacy=${encodeURI(o)}&iframe=1`;Object(r.i)(a)}}};var _=class{constructor(e){this.smartTag=e}getAdUnits(e){return e.filter(e=>e.config.amazon).map(e=>{const t=e.config.sizes.filter(e=>Array.isArray(e));if(!t.length)return!1;let i={slotID:e.el.id,slotName:e.config.adcode};return this.smartTag.config.multiFormatProperties?(i.mediaType="multi-format",i.multiFormatProperties={display:{sizes:t},video:{sizes:[[400,300],[640,480],[640,360]]}}):i.sizes=t,i}).filter(e=>!!e)}getBids(e){return new Promise((t,i)=>{!function(e,t,i,s,n,o,r){function a(i,s){t[e]._Q.push([i,s])}t[e]||(t[e]={init:function(){a("i",arguments)},fetchBids:function(){a("f",arguments)},setDisplayBids:function(){},_Q:[]},(o=i.createElement(s)).async=!0,o.src="//c.amazon-adsystem.com/aax2/apstag.js",(r=i.getElementsByTagName(s)[0]).parentNode.insertBefore(o,r))}("apstag",window,document,"script");let s={pubID:ssmSmartTag.config.amazon_pubid,adServer:"googletag",videoAdServer:"DFP",bidTimeout:ssmSmartTag.config.timeout_amazon||2e3};ssmSmartTag.config.has_schain&&ssmSmartTag.config.schain_config&&(s.schain={complete:1,ver:"1.0",nodes:[{asi:"semseoymas.com",sid:ssmSmartTag.config.schain_config.seller_id,hp:1,name:ssmSmartTag.config.schain_config.name,domain:ssmSmartTag.config.schain_config.domain}]}),apstag.init(s);const n=this.getAdUnits(e);if(0===n.length)return void i("No adunits valid for Amazon");this.smartTag.log("🔀 [PREBID][AMAZON] Requesting Amazon bids for:",n);let o=!1;apstag.fetchBids({slots:n},e=>{o=!0,null===e?i("No Amazon bids null"):t(e)}),setTimeout((function(){o||114!==ssmSmartTag.config.configId&&512!==ssmSmartTag.config.configId||i("No Amazon bids in")}),ssmSmartTag.config.timeout_amazon||2e3)})}};var b=class{constructor(e){this.smartTag=e}async getGeo(){return new Promise((e,t)=>{try{var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState&&200==this.status&&this.responseText.indexOf("loc=")>-1){var t=this.responseText.split("loc=",2);t=(t=t[1].split("tls=",2))[0].trim(),localStorage.setItem("ssmGeo",t),e(t)}},i.open("GET","https://www.cloudflare.com/cdn-cgi/trace",!0),i.send()}catch(e){t("Geolocation Error")}})}};i(18);var w=class{constructor(e){var t,i;this.config=e,e.enable_ad_blocker&&this.testAdBlocker(),this.firstRun=!0,this.bidResponses=[],this.firstRunSmartTagsActions=!0,this.runEnableServices=!1,this.resizing=!1,this.runUniqueID=!1,this.firstSsmNavigate=!0,this.firstLoadPrebid=!0,void 0===e.debug&&(this.config.debug=window.location.href.indexOf("ssmdebug")>=0||window.location.href.indexOf("testing_www.freepik.com")>=0||"true"===localStorage.getItem("ssmdebug")),this.log("SS+ Running build from "+this.config.buildDate),window.ssmStore=o,o.setSession("pageView",o.get("pageView",0)+1),this.generateUniqueID(),this.slots=new c.a(this),this.observers=[];let s=!0;this.config.rtt_prebid&&(null===(t=navigator.connection)||void 0===t?void 0:t.rtt)>this.config.rtt_prebid&&(this.log("Slow connection Prebid"),s=!1),this.prebid=this.config.libraries&&this.config.libraries.indexOf("prebid")>=0&&s?new p(this):null,this.adsense=this.config.libraries&&this.config.libraries.indexOf("adsense")>=0?new g(this):null,this.dfp=this.config.libraries&&this.config.libraries.indexOf("dfp")>=0?new l(this):null;let n=!0;this.config.rtt_amazon&&(null===(i=navigator.connection)||void 0===i?void 0:i.rtt)>this.config.rtt_amazon&&(this.log("Slow connection Amazon"),n=!1),this.amazon=this.config.libraries&&this.config.libraries.indexOf("amazon")>=0&&n?new _(this):null,e.has_pubxai&&this.prebid&&(this.log("🔥🔥 Load Pubxai"),Object(r.j)("https://cdn.pbxai.com/882397e9-c4ee-444a-92e2-67bc1d58906b.js"))}async run(){if(Object(r.n)([301,404,412,413,414,415,455,460],this.config.configId)){if(window.top.ssmRunned)return;window.top.ssmRunned=!0}if(this.runFromExternalIframeInside)return void this.log("No run smarttag from external IframeInside");if(void 0!==window.USER_COUNTRY_CODE&&window.location.href.indexOf("freepik.")>-1){localStorage.setItem("ssmGeo",window.USER_COUNTRY_CODE),ssmSmartTag.log("Geolocation USER_COUNTRY_CODE detected "+USER_COUNTRY_CODE);let e=["AF","IN","VN","PK","BD","EG"];Object(r.n)(e,window.USER_COUNTRY_CODE)&&(this.prebid=null,this.amazon=null)}this.config.geolocation&&(localStorage.ssmGeo||-1!==window.location.href.indexOf("freepik.")||(this.Geolocation=new b(this),await this.Geolocation.getGeo()));const e=Object(r.b)(this.config);if(e)return void this.log(e);if((this.config.libraries.indexOf("CookieChoicePay")>-1||window.ssmCookieChoicePay)&&window.ssmCookieChoicePay.checkPaid())return void this.log("⚠️ Smart tag stop by CookieChoicePay");if(this.config.speed_block&&f.newShouldBlock()||!this.config.speed_block&&f.shouldBlock())return void this.log("⚠️ Smart tag bouncer returned false");if(this.firstRunSmartTagsActions){if(this.config.wait_condition&&this.config.check_wait_condition&&Object(r.k)(this.config.check_wait_condition)&&(this.log("waiting condition"),this.log(await this.ssmWaitForCondition(this.config.wait_condition))),this.watchNavigateHSM(),this.config.refresh_on_resize&&this.watchResize(),this.config.refresh_on_change_url&&this.watchForUrlChanges(),this.config.refresh_on_change_url_popstate&&this.watchForUrlChangesByPopState(),this.config.refresh_on_custom_ssm_navigate&&(-1===document.location.href.indexOf("freepik.")||document.location.href.indexOf("freepik.")>-1&&document.querySelector("#__next"))&&this.watchForCustomEventSsmNavigate(),this.config.refresh_on_change_url_pushstate&&(-1===document.location.href.indexOf("freepik.")||document.location.href.indexOf("freepik.")>-1&&!document.querySelector("#__next"))&&this.watchForUrlChangesByPushState(),this.dfp&&(await this.dfp.loadPwt(),await Object(r.p)(),this.dfp.ssmEventsGoogleTag()),this.config.eval_script&&Object(r.k)(this.config.eval_script),this.config.url_pixel){this.log("Pixel");(new Image).src=this.config.url_pixel}!this.config.adUnits.filter(e=>"dfp_hb"!==e.type).length&&this.config.premiumContent&&void 0===window.ssmPremiumContent&&Object(r.j)("https://scripts.ssm.codes/dist/premiumContent.js",!0),this.setupRefreshing(),this.firstRunSmartTagsActions=!1}this.dfp&&this.dfp.setup();let t=this.config.adUnits.filter(e=>"dfp_hb"===e.type);if(t.length){await Object(r.p)(),ssmSmartTag.log("GoogleTag detected"),this.log("HB AdUnits",t),this.withDFPHB=!0;const e=await this.getAdunitsWithDfpInHardCode(t);this.log("HB AdUnits to run",e),await this.runSlotsWidthDfpInHardCode(e),this.prebidAuctionEnd=!0}this.config.adUnits.filter(e=>"dfp_hb"!==e.type).length&&this.slots.createFor(this.config.adUnits.filter(e=>"dfp_hb"!==e.type&&!e.external_run)).then(async()=>{this.prebid&&this.prebid.loadGumGum(),await this.runSlots(this.slots),this.config.premiumContent&&void 0===window.ssmPremiumContent&&Object(r.j)("https://scripts.ssm.codes/dist/premiumContent.js",!0),this.watchOrientation(),this.config.script_after_run&&Object(r.k)(this.config.script_after_run)})}removeAdContainers(){this.config.adUnits.forEach(e=>{void 0!==this.observers[e.id]&&this.observers[e.id].disconnect()});document.querySelectorAll("div[id*='ssm_container-']").forEach((function(e){e.remove()})),this.dfp&&window.googletag&&(this.config.clear_slots?window.googletag.pubads().clear():window.googletag.destroySlots())}log(){this.config.debug&&console.log("💡",...arguments)}async runSlotsWidthDfpInHardCode(e){arguments.length>1&&void 0!==arguments[1]||document.documentElement;try{await Promise.allSettled([!!this.amazon&&this.amazon.getBids(e),!!this.prebid&&this.prebid.getBids(e)]).then(e=>{var t,i;let s=null!==(t=e[0].value)&&void 0!==t&&t,n=null!==(i=e[1].value)&&void 0!==i&&i;this.log("⚠️ HB Amazon Bids",e[0]),this.log("⚠️ HB Prebid bids",e[1]),s&&window.apstag.setDisplayBids(),n&&window.googletag.cmd.push((function(){pbjs.que.push((function(){pbjs.setTargetingForGPTAsync()}))})),window.googletag.pubads().isInitialLoadDisabled()&&!this.config.no_refresh_dfp_hb&&window.googletag.cmd.push((function(){window.googletag.pubads().refresh()}))}).catch(e=>{this.log("⚠️No bids reason",e)})}catch(e){this.log("⚠️ Error load prebid or amazon",e)}}getAdunitsWithDfpInHardCode(e){return new Promise((t,i)=>{window.googletag.cmd.push((function(){window.googletag.pubads().disableInitialLoad();let i=window.googletag.pubads().getSlots(),s=[];e.forEach((function(e){let t=!0,n=!1;i.forEach((function(i){!0===t&&e.adcode===i.getAdUnitPath()&&(t=!1,n=i,i.__adUnit={config:e,el:{id:n.getSlotElementId()},refreshCount:0}),("desktop"===e.display_on&&screen.width<800||"mobile"===e.display_on&&screen.width>=800)&&(t=!0)})),!1===t&&s.push({config:e,el:{id:n.getSlotElementId()}})})),t(s)}))})}async runSlots(e){arguments.length>1&&void 0!==arguments[1]||document.documentElement;if(e.of("custom").forEach(e=>{if(e.waitForLoad().then(()=>e.runCustom()),e.config.adserver){const t=new XMLHttpRequest;t.open("GET","https://ssm.codes/metrics?adunit="+e.config.id+"&campaign="+(e.config.campaign||"none")),t.send()}}),e.withConfig("custom","outstream").length){let t=e.withConfig("custom","outstream");try{await this.prebid.runOutstreams(t)}catch(e){this.log("⚠️ No prebids outstream",e)}}let t=e.withConfig("custom","is_native"),i=e.of("dfp");if(this.config.withNative&&t.length&&i.length&&(i=i.concat(t)),this.dfp&&i.length){let e=!1,s=!1;if(2===this.config.run_method)if(this.log("🔥🔥 SSMCODES RUNNING IN METHOD 2",i),i.length){let e=this.dfp.defineAdManagerSlots(i),t=i.filter(e=>!e.async&&!e.renderend),s=Object.values(e).filter(e=>!e.__adUnit.async&&!e.__adUnit.renderend);this.log("🔥🔥 Defined GAM adUnits",e),t.length&&this.prebid&&await this.loadAmazonPrebid(t),s.length&&(this.log("🔥🔥 Display GAM adunits",s.map(e=>`${e.__adUnit.config.adcode} (${e.__adUnit.config.id})`)),this.dfp.displayAdManagerSlots(s),this.log("🔥🔥 Refresh GAM adunits",s.map(e=>`${e.__adUnit.config.adcode} (${e.__adUnit.config.id})`)),this.dfp.refreshAdmanagerSlots(s))}else this.log("🔥🔥 No dfp adunits to define");else if(this.log("SSMCODES RUNNING IN METHOD ",this.config.run_method),this.config.dynamicSlot&&(this.log("⚠️ dynamicSlot"),i.forEach(e=>{const t=window.googletag.defineSlot(e.config.adcode,e.config.sizes),i=document.createElement("div");i.id=t.getSlotElementId(),e.config.styles&&i.setAttribute("style",e.config.styles),i.classList.add("aU-"+e.config.id),e.el.parentNode.replaceChild(i,e.el),e.el=i,e.__slot=t})),this.prebid&&this.firstRun&&!this.amazon)try{this.log("⚠️ prebid and not amazon"),s=await this.prebid.getBids(i),this.dfp.runAdUnits(i,s),this.log("⚠️ Prebids: ",s)}catch(e){this.log("⚠️ No prebids",e),this.dfp.runAdUnits(i)}else if(this.amazon&&this.firstRun&&!this.prebid){this.log("⚠️ amazon and not prebid");try{e=await this.amazon.getBids(i),this.dfp.runAdUnits(i,!1,e),this.log("⚠️ Amazon Bids: ",e)}catch(e){this.log("⚠️ No Amazon Bids",e),this.dfp.runAdUnits(i)}}else if(this.amazon&&this.firstRun&&this.prebid){this.log("⚠️ amazon and prebid");try{await Promise.allSettled([this.amazon.getBids(i),this.prebid.getBids(i)]).then(e=>{this.log("⚠️ Amazon Bids",e[0]),this.log("⚠️ Prebids",e[1]),this.dfp.runAdUnits(i,e[1].value,e[0].value)}).catch(e=>{this.log("⚠️No bids reason",e),this.dfp.runAdUnits(i)})}catch(e){this.log("⚠️ Error load prebid or amazon",e),this.dfp.runAdUnits(i)}}else this.log("⚠️ without amazon without prebid"),this.dfp.runAdUnits(i,s);this.config.withNative&&t.length}else this.log("No dfp slots to request");this.adsense&&this.adsense.runAdUnits(e.of("adsense"))}async loadAmazonPrebid(e){let t=!1,i=!1;if(this.prebid){this.log("🔥🔥 Auctions Init for amazon and prebid",e);try{await Promise.allSettled([this.amazon.getBids(e),this.prebid.getBids(e)]).then(e=>{this.log("⚠️ Amazon Bids",e[0]),this.log("⚠️ Prebids",e[1]),i=e[1].value,t=e[1].value}).catch(e=>{this.log("⚠️No bids reason",e)})}catch(e){this.log("⚠️ Error load prebid or amazon",e)}i&&(this.log("setTargetingForGPTAsync"),pbjs.que.push(()=>{pbjs.setTargetingForGPTAsync()})),t&&window.apstag.setDisplayBids()}}async externalRunSlot(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=Object(r.b)(this.config);if(n)this.log(n);else try{let n=!!(s&&s.parentElement&&s.parentElement.parentElement)&&s.parentElement.parentElement.id;this.log("init External",t,e,i,n);let o=this.config.adUnits.filter(t=>t.id===parseInt(e)&&t.external_run);if(!o.length||!this.dfp)return void this.log("AdUnit not found or not DFP");let a=o[0],d=document.querySelector(".aU-"+a.id);d&&"iframe"!==i&&d.remove();let l=null;if("iframe"===i&&(t=t.replaceAll(/\//g,"\\/"),this.config.adUnits.map(async i=>(i.id===parseInt(e)&&i.external_run&&(l=document.querySelector(`[id*="${t}"]`),l&&(i.selector=l.parentElement&&l.parentElement.id?"#"+l.parentElement.id:"js:document.querySelector('[id*="+t+"]') && document.querySelector('[id*="+t+"]').parentElement",i.el=l.parentElement,i.el.innerHTML="")),i))),!l&&"iframe"===i)return void this.log("AdUnit selector not found",a.id);const g=new c.a(this);await g.createFor(o).then(async()=>{this.prebid&&this.prebid.loadGumGum(),this.log("ExternalSlots",g),await this.runSlots(g),this.config.script_after_run&&Object(r.k)(this.config.script_after_run),this.generateUniqueID()})}catch(e){document.dispatchEvent(new CustomEvent("ssmErrorRunExternal")),console.error("mi error",e)}}async setupRefreshing(){const e=this.config.max_refresh_session||5;let t=new Date,i=0;if(this.config.refresh_interval&&(this.log(`Refreshing every ${this.config.refresh_interval} seconds`),setInterval(()=>{i++;const s=new Date-t;s<3e4||i<this.config.refresh_interval||(i>=this.config.refresh_interval&&(i=0),this.dfp&&(e>=o.get("refreshads",0)?(this.log("Refreshing by interval "+s/1e3+"secs"),this.dfp.ssmDfpRefresh()):this.log("Max Refresh per session "+o.get("refreshads",0)+" of "+e)),t=new Date)},1e3)),this.config.refresh_on_focus){this.log("Refreshing when the user recover focus");let t=new Date;window.addEventListener("visibilitychange",i=>{const s=new Date-t;!document.hidden&&s>3e4&&(this.log("Refreshing by focus"),this.dfp&&e>=o.get("refreshads",0)&&this.dfp.ssmDfpRefresh(),t=new Date)})}}testAdBlocker(){try{let e="false";const t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox",t.style.position="absolute",t.style.top="0",t.style.pointerEvents="none",document.body.appendChild(t);let i=!1;window.setTimeout(()=>{if(0===t.offsetHeight&&(e="true",this.config.count_ad_blocker&&!i)){i=!0;const e=new XMLHttpRequest;e.open("GET","https://ssm.codes/metrics?action=counterAb&confId="+ssmSmartTag.config.configId),e.send()}o.setSession("adblocker",e);try{t.parentNode.removeChild(t)}catch(e){}},400)}catch(e){o.setSession("adblocker","Maybe")}}async checkGdpr(){return this.log("Checking CMP"),await Object(r.q)(this.config.timeout_gdpr),new Promise(async(e,t)=>{if((!1===this.checkIfUE()||this.uspString&&"1---"!==this.uspString)&&e("gdpr_no_tcf"),void 0===window.__tcfapi)return this.log("NO CMP detected"),void e("gdpr_no_tcf");window.__tcfapi("addEventListener",2,(t,i)=>{if(!t)return ssmSmartTag.log("TcData failed"),void e("gdpr_no_tcf");if(!i)return ssmSmartTag.log("TcData failed 2"),void e("gdpr_no_tcf");if(!t.gdprApplies)return ssmSmartTag.log("CMP not Applies"),void e("gdpr_no_tcf");if("tcloaded"===t.eventStatus||"useractioncomplete"===t.eventStatus){ssmSmartTag.log("CMP Applies");const i=t.vendor.consents[755]||!1;ssmSmartTag.log("CMP Vendor List",t.purpose,t.vendor.consents[755],Object.values(t.purpose.consents).filter(e=>!e.consent).length);const s=t.purpose&&t.purpose.consents&&11===Object.values(t.purpose.consents).length&&11===Object.values(t.purpose.consents).filter(e=>!e.consent).length,n=t.purpose&&t.purpose.consents&&t.purpose.consents[1];i&&s?(ssmSmartTag.setRequestNonPersonalizedAds=!1,ssmSmartTag.log("CMP All Accepted"),e("gdpr_accepted")):n&&!s?(ssmSmartTag.log("CMP Prop 1 Accepted and partials"),this.setNoPersonalize(),e("gdpr_partial")):(ssmSmartTag.log("CMP Reject or prop 1 not accepted"),this.setLimitedAds(),e("gdpr_reject"))}})})}watchOrientation(){let e=this.slots.slots.filter((function(e){return e.config.delete_horizontal_mobile}));e.length&&window.addEventListener("orientationchange",()=>{screen.availHeight<screen.availWidth&&e.forEach(e=>{this.clearAdunitContainer(e.config.id),this.log("Remove slot horizontal mobile",e.config.id),e.el.remove(),window.googletag.destroySlots([e])})},!1)}watchResize(){let e=window.innerWidth,t=e;this.resizing=!1,window.innerWidth>800&&(window.addEventListener("resize",async e=>{const i=window.innerWidth;window.innerWidth>800&&i!==t&&(this.removeAdContainers(),ssmSmartTag.log("removeAdContainers"),t=window.innerWidth,this.resizing=!0)}),window.addEventListener("resize",Object(r.c)((function(t){const i=window.innerWidth;window.innerWidth>800&&e!==i&&(this.resizing=!1,ssmSmartTag.run(),o.setSession("refreshads",o.get("refreshads",0)+1),e=window.innerWidth,ssmSmartTag.log("Store.setSession:refreshads"))}))));setInterval((function(){e===window.innerWidth&&(ssmSmartTag.resizing=!1)}),1e3)}watchForUrlChangesByPushState(){window.previousUrl=window.previousUrl||window.location.href;const e=this;var t,i;t=window.history,i=t.pushState,t.pushState=function(s){const n=s;"function"==typeof t.onpushstate&&t.onpushstate({state:s});const o=[...Array.from(arguments)];return e.sendEventMetrics(o[o.length-1]),Object(r.n)([348,211,345],ssmSmartTag.config.configId)?n!==previousUrl&&(ssmSmartTag.log("Reloading ads for pushState"),ssmSmartTag.removeAdContainers(),ssmSmartTag.run(),window.previousUrl=n):(ssmSmartTag.log("Reloading ads for pushState"),ssmSmartTag.removeAdContainers(),ssmSmartTag.run()),i.apply(t,arguments)}}watchForUrlChangesByPopState(){window.addEventListener("popstate",e=>{ssmSmartTag.log("Reloading ads for popstate"),this.sendEventMetrics(window.location.href),ssmSmartTag.removeAdContainers(),ssmSmartTag.run()})}execSsmNavigate(e){this.log("Reloading ads for SsmNavigate",e);var t=window.document.querySelector("#banner_downloadbox");t&&(t.remove(),this.log("deleted banner_downloadbox")),this.sendEventMetrics(window.location.href),this.removeAdContainers(),this.run()}sendEventMetrics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.startsWith("/")&&(e=window.location.origin+e),window.dispatchEvent(new CustomEvent("ssmSendMetrics",{detail:{url:e}}))}watchForCustomEventSsmNavigate(){this.log("Watch custom ssmNavigate"),window.previousUrl=window.previousUrl||window.location.href,this.execUrlChanged=!1;var e,t;let i;e=window.history,t=e.pushState,e.pushState=function(i){return"function"==typeof e.onpushstate&&e.onpushstate({state:i}),window.dispatchEvent(new CustomEvent("ssmUrlChanged")),t.apply(e,arguments)},window.addEventListener("ssmUrlChanged",()=>{this.execUrlChanged=!0,this.modalIsLoaded=!1,this.checkList=!1,this.exec=e=>{this.execUrlChanged=!1,this.execSsmNavigate(e)};new MutationObserver((e,t)=>{var s,n,o;const r=document.querySelector('div[data-state="open"] div[role="dialog"]');r&&e[0]&&"BODY"===(null===(s=e[0])||void 0===s||null===(s=s.target)||void 0===s?void 0:s.tagName)&&(this.modalIsLoaded=!0),this.modalIsLoaded&&r&&r.querySelector(".banner_ad")&&(this.exec("modal"),t.disconnect()),(!this.checkList&&"BODY"===(null===(n=e[0])||void 0===n||null===(n=n.target)||void 0===n?void 0:n.tagName)||"META"===(null===(o=e[0])||void 0===o||null===(o=o.target)||void 0===o?void 0:o.tagName))&&(this.checkList=!0),!this.checkList||this.modalIsLoaded||2!==document.querySelectorAll('[data-ssm="vertical"]').length||r||(this.exec("listado"),t.disconnect()),clearTimeout(i),i=setTimeout(()=>{this.execUrlChanged&&(this.exec("timeout"),t.disconnect())},800)}).observe(document,{attributes:!0,childList:!0,subtree:!0})})}watchForUrlChanges(){let e=document.location.href;window.addEventListener("load",t=>{new MutationObserver(t=>{84===this.config.configId?e=this.reloadIfChangeUrl(e):t.forEach(t=>{e=this.reloadIfChangeUrl(e)})}).observe(document.body,{childList:!0,subtree:!0})})}reloadIfChangeUrl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&e!==document.location.href&&(e=document.location.href,this.log("Reloading ads for location change",t),this.removeAdContainers(),this.run()),e}watchNavigateHSM(){const e={[window.location.href]:!0};document.addEventListener("navigate",async t=>{this.firstRun=!1,this.log("Loading ads for "+t.detail.url,t.detail.context),e[t.detail.url],e[t.detail.url]=!0;t.detail.url.substr(0,40);this.sendEventMetrics(t.detail.url),this.log("Remove Containers for navigate"),this.removeAdContainers(),await this.slots.createFor(this.config.adUnits,t.detail.context),await this.runSlots(this.slots,t.detail.context)})}async refreshAdsDfp(e,t){if(this.amazon)try{await this.amazon.getBids(e)&&window.apstag.setDisplayBids()}catch(e){this.log("No Amazon",e)}if(this.prebid)try{const t=new p(this);await t.getBids(e,!0);window.googletag.cmd.push((function(){pbjs.que.push((function(){pbjs.setTargetingForGPTAsync()}))}))}catch(e){this.log("No Header Bidding Bids",e)}window.googletag.cmd.push((function(){window.googletag.pubads().refresh(t)}))}clearAdunitContainer(e){let t=document.querySelector(".aU-"+e),i=this.config.adUnits.filter(t=>t.id===parseInt(e));if(i=!!i.length&&i[0],t){!i||i.no_delete_style_empty||i.is_sky||t.setAttribute("style","");let s=document.querySelector(".button_close_fixed-"+e);s&&s.remove()}}initEventScroll(){this.firstInitEventScroll=!0,document.addEventListener("scroll",()=>{void 0!==this.affixPositions&&this.affixPositions.forEach((function(e,t){let i=document.querySelector(".aU-"+t),s=i.firstElementChild,n=i.getBoundingClientRect(),o=i.offsetHeight-s.offsetHeight-e;if(!s)return;let r=s.firstElementChild,a=0;i.offsetWidth>r.offsetWidth&&(a=(i.offsetWidth-r.offsetWidth)/2),n.top>e?(s.style.position="relative",s.style.top="0px",a&&(s.style.transform="translateX(0px)")):n.top<e&&n.top<=-o?(s.style.top=-(s.offsetHeight-(i.offsetHeight+n.top))+"px",s.style.zIndex="initial"):n.top<e&&(s.style.position="fixed",s.style.maxWidth="100%",s.style.zIndex="99999",s.style.top=e+"px",a&&(s.style.transform=`translateX(${a}px)`))}))})}async ssmWaitForCondition(e){return window.IntersectionObserver?new Promise((t,i)=>{Object(r.k)(e)&&t("Condition true");let s=!0;new MutationObserver((i,n)=>{s&&(s=!1,setTimeout(()=>{n.disconnect(),t("Condition Timeout")},2e3)),Object(r.k)(e)&&(n.disconnect(),t("Wait condition true"))}).observe(document.documentElement,{childList:!0,subtree:!0})}):Promise.resolve("Condition No IntersectionObserver")}generateUniqueID(){if(this.runUniqueID)return;this.runUniqueID=!0;let e=localStorage.getItem("ssmuuid"),t="saved",i=-1!==this.config.libraries.indexOf("sha256");if(this.config.auth_selector)try{if(this.config.auth_selector.indexOf("js:")>-1)this.config.userEmail=Object(r.k)(this.config.auth_selector.replace("js:",""),"generateUniqueID",!1);else{const e=document.querySelector(this.config.auth_selector);this.config.userEmail=e?e.textContent:null}if(this.config.userEmail&&i){t="auth";const i=forge_sha256(this.config.userEmail);e=i,localStorage.setItem("ssmuuid",i),localStorage.setItem("ssmHashId",i)}else i||this.log("Auth SHA-256 needs to be activated.")}catch(e){this.log("run Not valid auth selector")}var s,n;(localStorage.getItem("ssmHashId")&&(e=localStorage.getItem("ssmHashId"),t="auth",localStorage.setItem("ssmuuid",e)),!e&&window.ssmasfp1&&(e=window.ssmasfp1,t="ssmasfp1",localStorage.setItem("ssmuuid",e)),!e&&window.ssmasfp2&&(e=window.ssmasfp2,t="ssmasfp2",localStorage.setItem("ssmuuid",e)),e)||(e=(null===(s=window.crypto)||void 0===s?void 0:s.randomUUID)&&(null===(n=window.crypto)||void 0===n?void 0:n.randomUUID()),e&&(t="last",localStorage.setItem("ssmuuid",e)));this.log("ssmuuid",t)}setEventDL(e){let t=10,i=setInterval(()=>{t+=100,"undefined"!=typeof dataLayer&&(this.log("SetEvent",e),window.dataLayer.push({event:"ga4event",event_name:"cookies",action:e}),clearInterval(i)),t>3e3&&clearInterval(i)},100)}async sendEventFreepik(){ssmSmartTag.config.send_event&&(await Object(r.q)(1200,"send_event_freepik"),void 0!==window.__tcfapi?window.__tcfapi("addEventListener",2,(e,t)=>{if(e)if(t){if("tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus){if(!e.gdprApplies)return void ssmSmartTag.setEventDL("no_tfc");let t=ssmSmartTag.handleTcfData(e.purpose.consents);ssmSmartTag.setEventDL(t)}}else ssmSmartTag.setEventDL("no_tfc");else ssmSmartTag.setEventDL("no_tfc")}):ssmSmartTag.setEventDL("no_tfc"))}handleTcfData(e){const t=Object.keys(e).filter(t=>!0===e[t]);return Object.keys(e).length?t.length===Object.keys(e).length?"accept":"partially_acepted":"reject"}getUniqueSelector(e){if(e.id)return"#"+e.id;let t=[];for(;"html"!==e.nodeName.toLowerCase();){let i=e.nodeName.toLowerCase();e.className&&(i+="."+e.className.trim().replace(/\s+/g,".")),t.unshift(i),e=e.parentNode}return t.join(" > ")}async preRun(){if(this.config.run_condition&&!Object(r.k)(this.config.run_condition))return void this.log("Smart tag run condition preRun returned false");this.config.adUnits.filter(e=>e.external_run).length&&window.top!==window?this.log("No run smartTag from external iframeInside"):(this.isLimitedAds=!1,this.setRequestNonPersonalizedAds=null,this.restrictDataProcessingCCPA=!1,this.config.libraries&&this.config.libraries.indexOf("detectIncognito")>=0&&(this.isLimitedAds=await this.detectIncognito()),this.sendEventFreepik(),this.config.libraries&&this.config.libraries.indexOf("uspapi")>=0&&Object(r.j)("https://cdn.cookielaw.org/opt-out/otCCPAiab.js",!0,"otCCPAiab"),this.config.isFundingChoice&&Object(r.h)(),this.config.initial_request||([this.gdprResult,this.ccpaResult]=await Promise.all([this.checkGdpr(),this.checkIfCCPAApplies()]),window.addEventListener("uspapi_change",this.checkIfCCPAApplies)),this.config.isFundingChoice||Object(r.h)(),this.run())}checkIfCCPAApplies(){return new Promise(async e=>{if(!1===this.checkUS())return this.log("Country no US"),void e("1---");this.checkUS()&&"CA"===window.ssmRegionCode&&(this.restrictDataProcessingCCPA=!0,this.amazon=null,this.prebid=null),await Object(r.r)(this.config.timeout_gdpr),void 0===window.__uspapi&&e("1---");try{__uspapi("getUSPData",1,(t,i)=>{i&&t?(this.ccpaResult=t.uspString,this.restrictDataProcessingCCPA=this.canShowPersonalizedAdsCCPA(t.uspString),this.restrictDataProcessingCCPA&&(this.amazon=null,this.prebid=null),this.log("CMP getUSPData",t.uspString,this.restrictDataProcessingCCPA),e(t.uspString)):(this.log("CMP No getUSPData",i,t.uspString),e(t.uspString||"1---"))})}catch(t){e("1---")}})}detectIncognito(){return new Promise((e,t)=>{detectIncognito().then(async t=>{e(t.isPrivate&&("Safari"===t.browserName||"Firefox"===t.browserName))}).catch((function(){e(!1)}))})}checkIfUE(){if(!this.ssmCountry)return null;return Object(r.n)(["AT","BE","BG","CY","CH","CZ","DE","DK","EE","ES","FI","FR","GB","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"],this.ssmCountry)}checkUS(){return this.ssmCountry?"US"===this.ssmCountry:null}setNoPersonalize(){this.setRequestNonPersonalizedAds=!0,this.prebid=null,this.amazon=null}setLimitedAds(){this.isLimitedAds=!0,this.prebid=null,this.amazon=null}setNoApplies(){this.prebid=null,this.amazon=null}canShowPersonalizedAdsCCPA(e){if(4!==e.length||"1---"===e)return!1;const t=e[0],i=e[1],s=e[2],n=e[3];return"1"!==t||"Y"===s||("-"===i||"-"===n)}};if(!window.smartTagLoaded){window.smartTagLoaded=!0,window.ssm_config.script_before_gdpr&&Object(r.k)(window.ssm_config.script_before_gdpr),window.ssm_config.libraries.indexOf("bugsnag")>=0&&Bugsnag.start({apiKey:"506d77bae047bf91158c901e29092fd8"}),window.ssm_config.report_errors&&window.addEventListener("error",(function(e){!function(e,t,i,s,n){let o=`${e}-${t}-${i}-${s}-${n}`;window.ssmTrack(window.ssm_config.targetingKey,ssm_config.configId,o)}(e.message,e.filename,e.lineno,e.colno,"listener_error")}));const e=window.ssmSmartTag=new w(window.ssm_config||{});ssmSmartTag.isLimitedAds=null,ssmSmartTag.ssmCountry=window.ssmCountry||window.USER_COUNTRY_CODE,e.log("RUN METHOD 5.",ssmSmartTag.ssmCountry);try{ssmSmartTag.preRun()}catch(e){ssmSmartTag.log("Error preRun",e),ssmSmartTag.run()}}}]);